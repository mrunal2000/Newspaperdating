{"ast":null,"code":"import _objectSpread from\"/Users/mrunal/Downloads/Newspaper Dating App/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback,useMemo}from'react';import{shouldUseSupabase}from'./services/supabase';import{Button}from'./components/minimal/button';import{Badge}from'./components/minimal/badge';import{Heart,MessageCircle}from'lucide-react';import{HybridPostsService}from'./services/hybridPostsService';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";// City-specific template posts\nconst cityTemplates={'New York':[{names:['Alex','Jordan','Sam','Taylor','Casey','Morgan','Riley','Quinn'],titles:['Seeking Coffee & Conversation in the City','Brooklyn Artist Looking for Inspiration','Wall Street Professional Seeking Balance','Queens Foodie Wants Dining Partner','Manhattan Creative Seeks Muse'],descriptions:[\"NYC transplant looking for someone to explore hidden coffee shops and rooftop bars with. Love discovering new neighborhoods and sharing stories over craft cocktails.\",\"Brooklyn-based painter seeking someone who appreciates art, live music, and late-night conversations about life, love, and everything in between.\",\"Finance professional by day, jazz enthusiast by night. Looking for someone to share weekend adventures and weekday decompression sessions.\",\"Queens native passionate about authentic cuisine from every culture. Want to find someone to explore the city's diverse food scene with.\",\"Creative director seeking someone who values both ambition and authenticity. Let's build something beautiful together in this crazy city.\"],interests:[['Coffee','Art','Live Music'],['Painting','Jazz','Brooklyn'],['Finance','Jazz','Weekend Adventures'],['Food','Culture','Queens'],['Creativity','Ambition','Authenticity']]}],'Los Angeles':[{names:['Blake','Skyler','Avery','Rowan','Sage','River','Phoenix','Ocean'],titles:['Venice Beach Creative Seeking Sunshine Partner','Hollywood Dreamer Wants Real Connection','Silver Lake Musician Looking for Harmony','Santa Monica Tech Founder Seeks Balance','Echo Park Artist Wants to Paint Together'],descriptions:[\"Venice Beach local who believes in the power of sunshine, creativity, and authentic connections. Let's build sandcastles and dreams together.\",\"Hollywood isn't just about fameâ€”it's about finding someone real in a world of make-believe. Looking for genuine connection and shared adventures.\",\"Silver Lake musician seeking someone to harmonize with in life. Whether it's music, conversation, or just being together, let's create something beautiful.\",\"Tech founder who believes success means nothing without someone to share it with. Looking for balance between ambition and meaningful relationships.\",\"Echo Park artist who sees beauty in everything. Want to find someone to paint the canvas of life with, one brushstroke at a time.\"],interests:[['Beach','Creativity','Sunshine'],['Hollywood','Authenticity','Adventure'],['Music','Harmony','Silver Lake'],['Technology','Success','Balance'],['Art','Beauty','Echo Park']]}],'San Francisco':[{names:['Riley','Quinn','Avery','Blake','Skyler','Rowan','Sage','River'],titles:['Mission District Foodie Seeks Culinary Partner','Marina Tech Professional Wants Work-Life Balance','North Beach Poet Looking for Muse','Hayes Valley Designer Seeks Creative Connection','Pacific Heights Professional Wants Authenticity'],descriptions:[\"Mission District resident who believes food is love. Looking for someone to explore the city's incredible culinary scene with, from food trucks to fine dining.\",\"Tech professional who's learned that success isn't everything. Seeking someone to help maintain work-life balance and share the beauty of the Bay Area.\",\"North Beach poet who finds inspiration in everyday moments. Want to connect with someone who sees the poetry in life and loves deep conversations.\",\"Hayes Valley designer seeking someone who appreciates both creativity and authenticity. Let's build something beautiful together in this amazing city.\",\"Pacific Heights professional who values substance over status. Looking for genuine connection and someone to share the simple pleasures of life with.\"],interests:[['Food','Culinary Arts','Mission District'],['Technology','Work-Life Balance','Bay Area'],['Poetry','Inspiration','North Beach'],['Design','Creativity','Hayes Valley'],['Authenticity','Simple Pleasures','Pacific Heights']]}],'Chicago':[{names:['Jordan','Casey','Morgan','Riley','Quinn','Alex','Sam','Taylor'],titles:['Wicker Park Artist Seeks Creative Soulmate','Lincoln Park Professional Wants Weekend Adventures','Lakeview Foodie Looking for Dining Partner','West Loop Entrepreneur Seeks Work-Life Harmony','Gold Coast Professional Wants Authentic Connection'],descriptions:[\"Wicker Park artist who believes creativity flows from connection. Looking for someone to inspire and be inspired by in this amazing neighborhood.\",\"Lincoln Park professional who loves exploring the city on weekends. Seeking someone to share adventures with, from museums to music venues.\",\"Lakeview resident passionate about Chicago's incredible food scene. Want to find someone to explore new restaurants and hidden gems with.\",\"West Loop entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\"Gold Coast professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of life with.\"],interests:[['Art','Creativity','Wicker Park'],['Adventure','Exploration','Lincoln Park'],['Food','Restaurants','Lakeview'],['Entrepreneurship','Work-Life Balance','West Loop'],['Authenticity','Simple Pleasures','Gold Coast']]}],'Austin':[{names:['Skyler','Rowan','Sage','River','Phoenix','Ocean','Blake','Avery'],titles:['East Austin Musician Seeks Creative Partner','South Congress Foodie Wants Culinary Adventures','Downtown Tech Professional Seeks Work-Life Balance','Zilker Park Enthusiast Looking for Nature Lover','Barton Springs Local Wants Authentic Connection'],descriptions:[\"East Austin musician who believes music is the language of the soul. Looking for someone to harmonize with in life and create beautiful melodies together.\",\"South Congress foodie passionate about Austin's incredible culinary scene. Want to explore food trucks, farmers markets, and hidden gems together.\",\"Downtown tech professional who's learned that success isn't everything. Seeking someone to help maintain work-life balance and enjoy Austin's unique culture.\",\"Zilker Park enthusiast who finds peace in nature. Looking for someone to share outdoor adventures, from hiking to swimming in Barton Springs.\",\"Barton Springs local who values authenticity and connection. Seeking someone real to share the simple pleasures of Austin life with.\"],interests:[['Music','Creativity','East Austin'],['Food','Culinary Arts','South Congress'],['Technology','Work-Life Balance','Downtown'],['Nature','Outdoors','Zilker Park'],['Authenticity','Local Culture','Barton Springs']]}],'Houston':[{names:['Jordan','Casey','Morgan','Riley','Quinn','Alex','Sam','Taylor'],titles:['Montrose Artist Seeks Creative Inspiration','Rice Village Professional Wants Weekend Adventures','Heights Foodie Looking for Dining Partner','Galleria Entrepreneur Seeks Work-Life Harmony','River Oaks Professional Wants Authentic Connection'],descriptions:[\"Montrose artist who finds beauty in Houston's diverse culture. Looking for someone to explore art galleries and share creative inspiration with.\",\"Rice Village professional who loves discovering Houston's hidden gems. Seeking someone to share weekend adventures and explore the city together.\",\"Heights resident passionate about Houston's incredible food scene. Want to find someone to explore new restaurants and food trucks with.\",\"Galleria entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\"River Oaks professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of Houston life with.\"],interests:[['Art','Creativity','Montrose'],['Adventure','Exploration','Rice Village'],['Food','Restaurants','Heights'],['Entrepreneurship','Work-Life Balance','Galleria'],['Authenticity','Simple Pleasures','River Oaks']]}],'Phoenix':[{names:['Blake','Skyler','Avery','Rowan','Sage','River','Phoenix','Ocean'],titles:['Scottsdale Creative Seeks Sunshine Partner','Downtown Phoenix Professional Wants Real Connection','Tempe Musician Looking for Harmony','Chandler Tech Professional Seeks Balance','Gilbert Local Wants to Explore Together'],descriptions:[\"Scottsdale creative who believes in the power of sunshine and authentic connections. Let's explore the desert and build dreams together.\",\"Downtown Phoenix professional seeking someone real in the Valley of the Sun. Looking for genuine connection and shared adventures.\",\"Tempe musician seeking someone to harmonize with in life. Whether it's music, conversation, or just being together, let's create something beautiful.\",\"Chandler tech professional who believes success means nothing without someone to share it with. Looking for balance between ambition and meaningful relationships.\",\"Gilbert local who sees beauty in the desert landscape. Want to find someone to explore Arizona's natural wonders with.\"],interests:[['Desert','Creativity','Scottsdale'],['Downtown','Authenticity','Adventure'],['Music','Harmony','Tempe'],['Technology','Success','Balance'],['Nature','Beauty','Gilbert']]}],'Philadelphia':[{names:['Riley','Quinn','Avery','Blake','Skyler','Rowan','Sage','River'],titles:['Fishtown Artist Seeks Creative Soulmate','Rittenhouse Professional Wants Weekend Adventures','South Philly Foodie Looking for Dining Partner','University City Entrepreneur Seeks Work-Life Harmony','Old City Professional Wants Authentic Connection'],descriptions:[\"Fishtown artist who believes creativity flows from connection. Looking for someone to inspire and be inspired by in this amazing neighborhood.\",\"Rittenhouse professional who loves exploring Philly on weekends. Seeking someone to share adventures with, from museums to music venues.\",\"South Philly resident passionate about Philadelphia's incredible food scene. Want to find someone to explore new restaurants and hidden gems with.\",\"University City entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\"Old City professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of Philadelphia life with.\"],interests:[['Art','Creativity','Fishtown'],['Adventure','Exploration','Rittenhouse'],['Food','Restaurants','South Philly'],['Entrepreneurship','Work-Life Balance','University City'],['Authenticity','Simple Pleasures','Old City']]}],'San Antonio':[{names:['Jordan','Casey','Morgan','Riley','Quinn','Alex','Sam','Taylor'],titles:['Pearl District Creative Seeks Inspiration','King William Professional Wants Weekend Adventures','Southtown Foodie Looking for Dining Partner','Stone Oak Entrepreneur Seeks Work-Life Harmony','Alamo Heights Professional Wants Authentic Connection'],descriptions:[\"Pearl District creative who finds inspiration in San Antonio's rich culture. Looking for someone to explore art galleries and share creative moments with.\",\"King William professional who loves discovering San Antonio's hidden gems. Seeking someone to share weekend adventures and explore the city together.\",\"Southtown resident passionate about San Antonio's incredible food scene. Want to find someone to explore new restaurants and food trucks with.\",\"Stone Oak entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\"Alamo Heights professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of San Antonio life with.\"],interests:[['Art','Creativity','Pearl District'],['Adventure','Exploration','King William'],['Food','Restaurants','Southtown'],['Entrepreneurship','Work-Life Balance','Stone Oak'],['Authenticity','Simple Pleasures','Alamo Heights']]}],'San Jose':[{names:['Blake','Skyler','Avery','Rowan','Sage','River','Phoenix','Ocean'],titles:['Downtown Tech Professional Seeks Work-Life Balance','Willow Glen Local Wants to Explore Together','Santana Row Foodie Looking for Culinary Partner','Almaden Valley Entrepreneur Seeks Harmony','Campbell Local Wants Authentic Connection'],descriptions:[\"Downtown San Jose tech professional who's learned that success isn't everything. Seeking someone to help maintain work-life balance and enjoy the Bay Area.\",\"Willow Glen resident who loves exploring San Jose's hidden gems. Looking for someone to share weekend adventures and discover new experiences with.\",\"Santana Row foodie passionate about San Jose's diverse culinary scene. Want to find someone to explore new restaurants and food trucks with.\",\"Almaden Valley entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\"Campbell local who values authenticity over appearances. Seeking someone real to share the simple pleasures of San Jose life with.\"],interests:[['Technology','Work-Life Balance','Downtown'],['Adventure','Exploration','Willow Glen'],['Food','Culinary Arts','Santana Row'],['Entrepreneurship','Work-Life Balance','Almaden Valley'],['Authenticity','Simple Pleasures','Campbell']]}],'Dallas':[{names:['Jordan','Casey','Morgan','Riley','Quinn','Alex','Sam','Taylor'],titles:['Deep Ellum Artist Seeks Creative Inspiration','Uptown Professional Wants Weekend Adventures','Bishop Arts Foodie Looking for Dining Partner','Oak Lawn Entrepreneur Seeks Work-Life Harmony','Highland Park Professional Wants Authentic Connection'],descriptions:[\"Deep Ellum artist who finds inspiration in Dallas's vibrant culture. Looking for someone to explore art galleries and share creative moments with.\",\"Uptown professional who loves discovering Dallas's hidden gems. Seeking someone to share weekend adventures and explore the city together.\",\"Bishop Arts resident passionate about Dallas's incredible food scene. Want to find someone to explore new restaurants and food trucks with.\",\"Oak Lawn entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\"Highland Park professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of Dallas life with.\"],interests:[['Art','Creativity','Deep Ellum'],['Adventure','Exploration','Uptown'],['Food','Restaurants','Bishop Arts'],['Entrepreneurship','Work-Life Balance','Oak Lawn'],['Authenticity','Simple Pleasures','Highland Park']]}],'Seattle':[{names:['Blake','Skyler','Avery','Rowan','Sage','River','Phoenix','Ocean'],titles:['Capitol Hill Creative Seeks Inspiration','Fremont Local Wants to Explore Together','Ballard Foodie Looking for Culinary Partner','Queen Anne Entrepreneur Seeks Harmony','Green Lake Professional Wants Authentic Connection'],descriptions:[\"Capitol Hill creative who finds inspiration in Seattle's unique culture. Looking for someone to explore art galleries and share creative moments with.\",\"Fremont resident who loves discovering Seattle's hidden gems. Seeking someone to share weekend adventures and explore the city together.\",\"Ballard foodie passionate about Seattle's incredible food scene. Want to find someone to explore new restaurants and food trucks with.\",\"Queen Anne entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\"Green Lake professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of Seattle life with.\"],interests:[['Art','Creativity','Capitol Hill'],['Adventure','Exploration','Fremont'],['Food','Restaurants','Ballard'],['Entrepreneurship','Work-Life Balance','Queen Anne'],['Authenticity','Simple Pleasures','Green Lake']]}]};// Generate random posts for a city\nfunction generateCityPosts(city,count){const templates=cityTemplates[city];if(!templates){// Fallback template for cities without specific templates\nconst fallbackTemplate={names:['Alex','Jordan','Sam','Taylor','Casey','Morgan','Riley','Quinn'],titles:['Seeking Connection in the City','Professional Looking for Balance','Creative Seeks Inspiration','Local Wants to Explore Together','Professional Wants Authentic Connection'],descriptions:[\"City resident looking for someone to explore local attractions and share meaningful conversations with. Love discovering new places and building genuine connections.\",\"Professional seeking someone who appreciates both ambition and authenticity. Looking for work-life balance and meaningful relationships.\",\"Creative soul seeking someone to inspire and be inspired by. Want to build something beautiful together in this amazing city.\",\"Local who loves exploring the city's hidden gems. Looking for someone to share adventures and discover new experiences with.\",\"Professional who values substance over status. Seeking genuine connection and someone to share the simple pleasures of life with.\"],interests:[['Exploration','Connection','Local Culture'],['Professional Growth','Balance','Authenticity'],['Creativity','Inspiration','Art'],['Adventure','Discovery','Local Gems'],['Authenticity','Simple Pleasures','Connection']]};const posts=[];// Create arrays to track used names and ensure uniqueness\nconst usedNames=new Set();const availableNames=[...fallbackTemplate.names];for(let i=0;i<count;i++){let randomName;// If we've used all available names, reset the used names set\nif(usedNames.size>=availableNames.length){usedNames.clear();}// Find an unused name\ndo{randomName=availableNames[Math.floor(Math.random()*availableNames.length)];}while(usedNames.has(randomName));usedNames.add(randomName);const randomTitle=fallbackTemplate.titles[Math.floor(Math.random()*fallbackTemplate.titles.length)];const randomDescription=fallbackTemplate.descriptions[Math.floor(Math.random()*fallbackTemplate.descriptions.length)];const randomInterests=fallbackTemplate.interests[Math.floor(Math.random()*fallbackTemplate.interests.length)];posts.push({id:\"\".concat(city,\"-\").concat(i+1),name:randomName,age:Math.floor(Math.random()*15)+25,// 25-40\ntitle:randomTitle,location:\"\".concat(city,\", \").concat(getStateFromCity(city)),description:randomDescription,interests:randomInterests,createdAt:new Date(Date.now()-Math.random()*7*24*60*60*1000),// Random time in last 7 days\ncomments:[]});}return posts;}const posts=[];const template=templates[0];// Use first template for now\n// Create arrays to track used names and ensure uniqueness\nconst usedNames=new Set();const availableNames=[...template.names];for(let i=0;i<count;i++){let randomName;// If we've used all available names, reset the used names set\nif(usedNames.size>=availableNames.length){usedNames.clear();}// Find an unused name\ndo{randomName=availableNames[Math.floor(Math.random()*availableNames.length)];}while(usedNames.has(randomName));usedNames.add(randomName);const randomTitle=template.titles[Math.floor(Math.random()*template.titles.length)];const randomDescription=template.descriptions[Math.floor(Math.random()*template.descriptions.length)];const randomInterests=template.interests[Math.floor(Math.random()*template.interests.length)];posts.push({id:\"\".concat(city,\"-\").concat(i+1),name:randomName,age:Math.floor(Math.random()*15)+25,// 25-40\ntitle:randomTitle,location:\"\".concat(city,\", \").concat(getStateFromCity(city)),description:randomDescription,interests:randomInterests,createdAt:new Date(Date.now()-Math.random()*7*24*60*60*1000),// Random time in last 7 days\ncomments:[]});}return posts;}// Get state abbreviation for cities\n// Get state abbreviation for cities\nfunction getStateFromCity(city){const stateMap={'New York':'NY','Los Angeles':'CA','San Francisco':'CA','Chicago':'IL','Austin':'TX','Houston':'TX','Phoenix':'AZ','Philadelphia':'PA','San Antonio':'TX','San Diego':'CA','Dallas':'TX','San Jose':'CA','Jacksonville':'FL','Fort Worth':'TX','Columbus':'OH','Charlotte':'NC','Indianapolis':'IN','Seattle':'WA','Denver':'CO','Washington':'DC'};return stateMap[city]||'CA';}// Get the correct image path for a city, with fallback support\nfunction getCityImagePath(city){// Map of cities to their available image formats\nconst cityImageMap={'New York':['New York.jpg'],'Los Angeles':['Los Angeles.jpg'],'San Francisco':['San Francisco.jpg'],'Chicago':['Chicago.jpg'],'Austin':['Austin.jpg'],'Houston':['Houston.jpg'],'Phoenix':['Phoenix.jpg','Phoenix.webp'],'Philadelphia':['Philadelphia.jpg'],'San Antonio':['San Antonio.jpg'],'San Diego':['San Diego.jpg'],'Dallas':['Dallas.jpg'],'San Jose':['San Jose.jpg'],'Jacksonville':['Jacksonville.jpg'],'Fort Worth':['Fort Worth.jpg'],'Columbus':['Columbus.jpeg'],'Charlotte':['Charlotte.jpg'],'Indianapolis':['Indianapolis.jpg'],'Seattle':['Seattle.jpeg'],'Denver':['Denver.jpg'],'Washington':['Washington.jpg']};const availableImages=cityImageMap[city];if(availableImages&&availableImages.length>0){// Return the first available image (primary format)\nreturn\"/\".concat(availableImages[0]);}// Fallback to San Francisco if no city-specific image is found\nreturn'/San Francisco.jpg';}function formatTimestamp(date){const now=new Date();const diffInMinutes=Math.floor((now.getTime()-date.getTime())/(1000*60));if(diffInMinutes<5){return'Just now';}else if(diffInMinutes<60){return\"\".concat(diffInMinutes,\"m ago\");}else if(diffInMinutes<1440){// 24 hours\nconst diffInHours=Math.floor(diffInMinutes/60);return\"\".concat(diffInHours,\"h ago\");}else{const diffInDays=Math.floor(diffInMinutes/1440);return\"\".concat(diffInDays,\"d ago\");}}function ProfileCard(_ref){let{profile,onAddComment,onDeletePost,isUserPost}=_ref;const[showComments,setShowComments]=useState(false);const[newComment,setNewComment]=useState('');const[commentAuthor,setCommentAuthor]=useState('');const handleSubmitComment=e=>{e.preventDefault();if(newComment.trim()&&commentAuthor.trim()){onAddComment(profile.id,{text:newComment.trim(),author:commentAuthor.trim()});setNewComment('');setCommentAuthor('');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"box-border content-stretch flex flex-col gap-2.5 items-start justify-start p-0 relative shrink-0 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-[38px] relative shrink-0 w-[100px] flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-[38px] w-[100px] flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-nyt justify-center items-center leading-[0] not-italic text-[#252424] text-[16px] text-center text-nowrap\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"block leading-[normal] whitespace-pre\",children:[profile.name,\",\",profile.age]})})}),/*#__PURE__*/_jsx(\"div\",{\"aria-hidden\":\"true\",className:\"absolute border border-[#000000] border-solid inset-0 pointer-events-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-border content-stretch flex flex-col gap-2 items-start justify-start p-0 relative shrink-0 w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-futura-condensed-extra-bold font-futura-fallback justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[16px] text-left w-full\",children:/*#__PURE__*/_jsx(\"p\",{className:\"block leading-[normal]\",children:profile.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"h-0 relative shrink-0 w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 right-0 top-[-1px]\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"block size-full\",fill:\"none\",preserveAspectRatio:\"none\",viewBox:\"0 0 321 1\",children:/*#__PURE__*/_jsx(\"line\",{id:\"Line 3\",stroke:\"var(--stroke-0, black)\",x2:\"321\",y1:\"0.5\",y2:\"0.5\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-nyt justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[16px] text-left w-full\",children:/*#__PURE__*/_jsx(\"p\",{className:\"block leading-[normal]\",children:profile.description})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-nyt justify-end leading-[0] not-italic relative shrink-0 text-[#6b6969] text-[12px] text-left w-full mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"block leading-[normal]\",children:formatTimestamp(profile.createdAt)})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 mt-2\",children:profile.interests.map((interest,index)=>/*#__PURE__*/_jsx(Badge,{variant:\"outline\",className:\"text-xs font-nyt\",children:interest},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-3\",children:[/*#__PURE__*/_jsxs(Button,{size:\"sm\",variant:\"newspaper\",onClick:()=>setShowComments(!showComments),className:\"text-xs\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-3 h-3\"}),profile.comments.length,\" Comments\"]}),isUserPost&&/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"newspaper\",onClick:()=>onDeletePost(profile.id),className:\"text-xs\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]}),showComments&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 border-t border-gray-200 pt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-nyt font-bold text-sm mb-3\",children:\"Comments\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmitComment,className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your name\",value:commentAuthor,onChange:e=>setCommentAuthor(e.target.value),className:\"p-2 border border-gray-300 rounded text-sm font-nyt\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Write a comment...\",value:newComment,onChange:e=>setNewComment(e.target.value),className:\"p-2 border border-gray-300 rounded text-sm font-nyt h-20 resize-none\",required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",size:\"sm\",variant:\"newspaper\",className:\"text-xs self-start\",children:\"Post Comment\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[profile.comments.map(comment=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-nyt font-bold text-sm\",children:comment.author}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 font-nyt\",children:formatTimestamp(comment.createdAt)})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-nyt\",children:comment.text})]},comment.id)),profile.comments.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 font-nyt italic\",children:\"No comments yet. Be the first to comment!\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-0 relative shrink-0 w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 right-0 top-[-1px]\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"block size-full\",fill:\"none\",preserveAspectRatio:\"none\",viewBox:\"0 0 321 1\",children:/*#__PURE__*/_jsx(\"line\",{id:\"Line 3\",stroke:\"var(--stroke-0, black)\",x2:\"321\",y1:\"0.5\",y2:\"0.5\"})})})})]})]});}function ProfileCardWithImage(_ref2){let{profile,onAddComment,onDeletePost,onLikePost,isUserPost,currentCity}=_ref2;const[showComments,setShowComments]=useState(false);const[newComment,setNewComment]=useState('');const[commentAuthor,setCommentAuthor]=useState('');// Debug: Log the image path being used\nconsole.log(\"\\uD83D\\uDDBC\\uFE0F ProfileCardWithImage rendering for city: \".concat(currentCity));console.log(\"\\uD83D\\uDDBC\\uFE0F Image path: \".concat(getCityImagePath(currentCity)));console.log(\"\\uD83D\\uDDBC\\uFE0F Profile location: \".concat(profile.location));const handleSubmitComment=e=>{e.preventDefault();if(newComment.trim()&&commentAuthor.trim()){onAddComment(profile.id,{text:newComment.trim(),author:commentAuthor.trim()});setNewComment('');setCommentAuthor('');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"box-border content-stretch flex flex-col gap-[30px] items-start justify-start p-0 relative shrink-0 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-[284px] relative shrink-0 w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-[284px] overflow-clip relative w-full\",children:profile.image?/*#__PURE__*/_jsx(\"div\",{className:\"absolute bg-center bg-cover bg-no-repeat h-[488px] left-[-14px] mix-blend-luminosity top-[-99px] w-[486px]\",style:{backgroundImage:\"url('\".concat(profile.image,\"')\")}}):/*#__PURE__*/_jsx(\"div\",{className:\"absolute flex items-center justify-center h-[284px] left-0 top-0 w-full bg-gray-100\",children:/*#__PURE__*/_jsx(\"img\",{id:\"city-image-\".concat(currentCity),src:getCityImagePath(currentCity),alt:\"\".concat(currentCity,\" Profile\"),className:\"w-full h-full object-cover filter grayscale contrast-125 brightness-90 sepia-20 hue-rotate-15 saturate-150\",style:{border:'2px solid red'}// Debug border\n,onError:e=>{console.error(\"\\u274C Image failed to load: \".concat(e.currentTarget.src));// Try with different encoding first\nconst encodedCity=encodeURIComponent(currentCity);if(e.currentTarget.src!==\"/\".concat(encodedCity,\".jpg\")){e.currentTarget.src=\"/\".concat(encodedCity,\".jpg\");return;}// Try alternative formats for the city\nconst cityImageMap={'Phoenix':['Phoenix.jpg','Phoenix.webp'],'Columbus':['Columbus.jpeg'],'Seattle':['Seattle.jpeg']// Add other cities with multiple formats as needed\n};const alternatives=cityImageMap[currentCity];if(alternatives&&alternatives.length>1){const currentSrc=e.currentTarget.src;const currentFormat=currentSrc.split('.').pop();const nextFormat=alternatives.find(format=>!format.includes(currentFormat||''));if(nextFormat){e.currentTarget.src=\"/\".concat(nextFormat);return;}}// Final fallback to San Francisco image\ne.currentTarget.src='/San Francisco.jpg';},onLoad:()=>{// Image loaded successfully\n},onLoadStart:()=>{// Image load started\n}})})}),/*#__PURE__*/_jsx(\"div\",{\"aria-hidden\":\"true\",className:\"absolute border border-[#000000] border-solid inset-0 pointer-events-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-border content-stretch flex flex-col gap-2.5 items-start justify-start p-0 relative shrink-0 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-[38px] relative shrink-0 w-[100px] flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-[38px] w-[100px] flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-nyt justify-center items-center leading-[0] not-italic text-[#252424] text-[16px] text-center text-nowrap\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"block leading-[normal] whitespace-pre\",children:[profile.name,\",\",profile.age]})})}),/*#__PURE__*/_jsx(\"div\",{\"aria-hidden\":\"true\",className:\"absolute border border-[#000000] border-solid inset-0 pointer-events-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-border content-stretch flex flex-col gap-2 items-start justify-start p-0 relative shrink-0 w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-futura-condensed-extra-bold font-futura-fallback justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[16px] text-left w-full\",children:/*#__PURE__*/_jsx(\"p\",{className:\"block leading-[normal]\",children:profile.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"h-0 relative shrink-0 w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 right-0 top-[-1px]\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"block size-full\",fill:\"none\",preserveAspectRatio:\"none\",viewBox:\"0 0 436 1\",children:/*#__PURE__*/_jsx(\"line\",{id:\"Line 3\",stroke:\"var(--stroke-0, black)\",x2:\"436\",y1:\"0.5\",y2:\"0.5\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-nyt justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[16px] text-left w-full\",children:/*#__PURE__*/_jsx(\"p\",{className:\"block leading-[normal]\",children:profile.description})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-nyt justify-end leading-[0] not-italic relative shrink-0 text-[#6b6969] text-[12px] text-left w-full mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"block leading-[normal]\",children:formatTimestamp(profile.createdAt)})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 mt-2\",children:profile.interests.map((interest,index)=>/*#__PURE__*/_jsx(Badge,{variant:\"outline\",className:\"text-xs font-nyt\",children:interest},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-3\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:handleLike,disabled:isLiking,className:\"flex items-center gap-2 \".concat(isLiking?'animate-pulse':''),children:[/*#__PURE__*/_jsx(Heart,{className:\"h-4 w-4 \".concat(isLiking?'text-red-500':'')}),isLiking?'Liking...':'Like']}),/*#__PURE__*/_jsxs(Button,{size:\"sm\",variant:\"newspaper\",onClick:()=>setShowComments(!showComments),className:\"text-xs\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-3 h-3\"}),profile.comments.length,\" Comments\"]}),isUserPost&&/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"newspaper\",onClick:()=>onDeletePost(profile.id),className:\"text-xs\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]})]}),showComments&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 border-t border-gray-200 pt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-nyt font-bold text-sm mb-3\",children:\"Comments\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmitComment,className:\"mb-4 w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 w-full\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your name\",value:commentAuthor,onChange:e=>setCommentAuthor(e.target.value),className:\"p-2 border border-gray-300 rounded text-sm font-nyt w-full\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Write a comment...\",value:newComment,onChange:e=>setNewComment(e.target.value),className:\"p-2 border border-gray-300 rounded text-sm font-nyt h-20 resize-none w-full\",required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",size:\"sm\",variant:\"newspaper\",className:\"text-xs self-start\",children:\"Post Comment\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 w-full\",children:[profile.comments.map(comment=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-1 w-full\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-nyt font-bold text-sm\",children:comment.author}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 font-nyt\",children:formatTimestamp(comment.createdAt)})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-nyt w-full\",children:comment.text})]},comment.id)),profile.comments.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 font-nyt italic w-full\",children:\"No comments yet. Be the first to comment!\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-0 relative shrink-0 w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 right-0 top-[-1px]\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"block size-full\",fill:\"none\",preserveAspectRatio:\"none\",viewBox:\"0 0 436 1\",children:/*#__PURE__*/_jsx(\"line\",{id:\"Line 3\",stroke:\"var(--stroke-0, black)\",x2:\"436\",y1:\"0.5\",y2:\"0.5\"})})})})]})]});}function NewspaperDivider(){return/*#__PURE__*/_jsx(\"div\",{className:\"h-1 relative shrink-0 w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 right-0 top-[-25%]\",children:/*#__PURE__*/_jsxs(\"svg\",{className:\"block size-full\",fill:\"none\",preserveAspectRatio:\"none\",viewBox:\"0 0 1184 5\",children:[/*#__PURE__*/_jsx(\"line\",{stroke:\"var(--stroke-0, black)\",x2:\"100%\",y1:\"0.5\",y2:\"0.5\"}),/*#__PURE__*/_jsx(\"line\",{stroke:\"var(--stroke-0, black)\",x2:\"100%\",y1:\"4.5\",y2:\"4.5\"})]})})});}function DateIdeas(_ref3){let{city}=_ref3;// Date ideas for different cities\nconst cityDateIdeas={'San Francisco':['Walk across Golden Gate Bridge at sunset','Explore Mission District food scene','Visit Alcatraz Island together','Ride cable cars through Nob Hill','Picnic at Golden Gate Park','Explore Fisherman\\'s Wharf','Visit Palace of Fine Arts','Walk along Embarcadero','Explore Chinatown together','Visit Coit Tower for city views'],'New York':['Walk through Central Park','Visit Times Square at night','Explore Brooklyn Bridge walkway','Visit Metropolitan Museum of Art','Walk High Line park','Explore Greenwich Village','Visit Empire State Building','Walk through SoHo galleries','Visit Brooklyn Botanic Garden','Explore Little Italy together'],'Los Angeles':['Walk Venice Beach boardwalk','Visit Griffith Observatory','Explore Santa Monica Pier','Visit Getty Center','Walk through Beverly Hills','Explore Hollywood Walk of Fame','Visit LACMA museum','Walk through Echo Park','Visit Huntington Library','Explore Downtown Arts District'],'Chicago':['Walk along Lake Michigan','Visit Millennium Park','Explore Navy Pier','Visit Art Institute of Chicago','Walk Magnificent Mile','Visit Willis Tower Skydeck','Explore Wicker Park','Visit Lincoln Park Zoo','Walk through Riverwalk','Explore Chinatown together'],'Miami':['Walk South Beach boardwalk','Visit Vizcaya Museum','Explore Wynwood Arts District','Visit Little Havana','Walk through Coconut Grove','Visit Bayside Marketplace','Explore Design District','Visit Fairchild Tropical Garden','Walk through Coral Gables','Explore Brickell together']};const ideas=cityDateIdeas[city]||['Visit local museums together','Explore downtown area','Try local restaurants','Visit city parks','Explore local markets','Walk through historic districts','Visit local landmarks','Try local coffee shops','Explore art galleries','Visit local attractions'];return/*#__PURE__*/_jsxs(\"div\",{className:\"box-border content-stretch flex flex-col gap-2.5 items-start justify-start p-0 relative shrink-0 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-[38px] relative shrink-0 w-full flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-futura-condensed-extra-bold font-futura-fallback justify-center items-center leading-[0] not-italic text-[#252424] text-[16px] text-center text-nowrap\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"block leading-[normal]\",children:[\"Date Ideas in \",city]})}),/*#__PURE__*/_jsx(\"div\",{\"aria-hidden\":\"true\",className:\"absolute border border-[#000000] border-solid inset-0 pointer-events-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-border content-stretch flex flex-col gap-2 items-start justify-start p-0 relative shrink-0 w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-nyt justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[14px] text-left w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-0\",children:ideas.map((idea,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 py-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",disabled:true,readOnly:true,className:\"w-3 h-3 text-[#6b6969] border border-gray-300 rounded focus:ring-0 focus:ring-offset-0 cursor-default opacity-60\"}),/*#__PURE__*/_jsx(\"p\",{className:\"block leading-[normal]\",children:idea})]}),index<ideas.length-1&&/*#__PURE__*/_jsx(\"div\",{className:\"h-0 relative shrink-0 w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 right-0 top-[-1px]\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"block size-full\",fill:\"none\",preserveAspectRatio:\"none\",viewBox:\"0 0 331 1\",children:/*#__PURE__*/_jsx(\"line\",{stroke:\"var(--stroke-0, black)\",strokeDasharray:\"2,2\",x2:\"100%\",y1:\"0.5\",y2:\"0.5\"})})})})]},index))})}),/*#__PURE__*/_jsx(\"div\",{className:\"h-0 relative shrink-0 w-full mt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 right-0 top-[-1px]\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"block size-full\",fill:\"none\",preserveAspectRatio:\"none\",viewBox:\"0 0 331 1\",children:/*#__PURE__*/_jsx(\"line\",{stroke:\"var(--stroke-0, black)\",x2:\"100%\",y1:\"0.5\",y2:\"0.5\"})})})})]})]});}function NewspaperHeader(_ref4){let{onCityChange,usCities,onAddPostClick,currentCity}=_ref4;const today=new Date();const dateString=today.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});const handleCityChange=city=>{onCityChange(city);};return/*#__PURE__*/_jsxs(\"div\",{className:\"box-border content-stretch flex flex-col gap-[18px] items-center justify-start p-0 relative shrink-0 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full px-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col font-engravers justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[32px] lg:text-[40px] text-center tracking-[-1px]\",children:/*#__PURE__*/_jsx(\"p\",{className:\"block leading-[normal]\",children:\"The Daily Connection\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 right-0 transform -translate-y-1/2 flex-shrink-0 hidden lg:block\",children:/*#__PURE__*/_jsx(Button,{variant:\"newspaper\",onClick:onAddPostClick,className:\"text-sm px-6 py-2\",children:\"+ Add New Post\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-border content-stretch flex flex-col gap-3 items-start justify-start p-0 relative shrink-0 w-full\",children:[/*#__PURE__*/_jsx(NewspaperDivider,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-border content-stretch flex flex-col lg:flex-row font-nyt items-center justify-between leading-[0] not-italic p-0 relative shrink-0 text-[#000000] text-[14px] lg:text-[16px] text-center text-nowrap w-full gap-2 lg:gap-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col justify-end relative shrink-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"block leading-[normal] text-nowrap whitespace-pre\",children:\"Where stories begin\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col justify-end relative shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-nowrap whitespace-pre\",children:[currentCity,\", \",dateString]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative ml-1\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:e=>handleCityChange(e.target.value),className:\"font-nyt text-[14px] lg:text-[16px] text-black bg-transparent border-none outline-none cursor-pointer pr-6 w-4\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,selected:true,className:\"font-nyt text-transparent bg-transparent\"}),usCities.filter(city=>city!==currentCity).map(city=>/*#__PURE__*/_jsx(\"option\",{value:city,className:\"font-nyt text-black bg-white\",children:city},city))]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col justify-end relative shrink-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"block leading-[normal] text-nowrap whitespace-pre\",children:\"VOL. 2\"})})]}),/*#__PURE__*/_jsx(NewspaperDivider,{})]})]});}function AddPostForm(_ref5){let{onAddPost,isOpen,setIsOpen,currentCity}=_ref5;const[formData,setFormData]=useState({name:'',age:'',title:'',location:\"\".concat(currentCity,\", CA\"),description:'',interests:''});// Update location when currentCity changes\nuseEffect(()=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{location:\"\".concat(currentCity,\", CA\")}));},[currentCity]);const handleSubmit=e=>{e.preventDefault();if(formData.name&&formData.age&&formData.title&&formData.description){const newProfile={name:formData.name,age:parseInt(formData.age),title:formData.title,location:formData.location,description:formData.description,interests:formData.interests.split(',').map(i=>i.trim()).filter(i=>i.length>0),comments:[]};onAddPost(newProfile);setFormData({name:'',age:'',title:'',location:\"\".concat(currentCity,\", CA\"),description:'',interests:''});setIsOpen(false);}};if(!isOpen){return null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-40\",onClick:()=>setIsOpen(false)}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-2xl bg-white border-2 border-black shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-6 border-b-2 border-black\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-nyt text-xl font-bold\",children:\"Add New Post\"}),/*#__PURE__*/_jsx(Button,{variant:\"newspaper\",onClick:()=>setIsOpen(false),className:\"text-sm px-3 py-1\",children:\"\\xD7 Close\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-nyt text-sm font-medium mb-1\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),className:\"w-full p-2 border border-black font-nyt text-sm\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-nyt text-sm font-medium mb-1\",children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.age,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{age:e.target.value})),className:\"w-full p-2 border border-black font-nyt text-sm\",min:\"18\",max:\"100\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-nyt text-sm font-medium mb-1\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.title,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{title:e.target.value})),className:\"w-full p-2 border border-black font-nyt text-sm\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-nyt text-sm font-medium mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"w-full p-2 border border-black font-nyt text-sm h-24\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-nyt text-sm font-medium mb-1\",children:\"Interests (comma-separated)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.interests,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{interests:e.target.value})),className:\"w-full p-2 border border-black font-nyt text-sm\",placeholder:\"e.g., Cooking, Science, Travel\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end pt-4\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"newspaper\",className:\"text-sm px-6 py-2\",children:\"Add Post\"})})]})]})})]});}function VerticalDivider(){return/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:flex h-full items-center justify-center relative shrink-0 w-[1px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full w-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full w-[1px] bg-black\"})})});}export default function App(){// Current version for localStorage compatibility\nconst currentVersion='2.4';// Version for likes field\n// Load saved city from localStorage or default to New York\nconst[currentCity,setCurrentCity]=useState(()=>{const savedCity=localStorage.getItem('newspaperDatingCurrentCity');return savedCity||'New York';});const[isAddPostOpen,setIsAddPostOpen]=useState(false);// Top 20 US cities - memoized to prevent recreation on every render\nconst usCities=useMemo(()=>['New York','Los Angeles','Chicago','Houston','Phoenix','Philadelphia','San Antonio','San Diego','Dallas','San Jose','Austin','Jacksonville','Fort Worth','Columbus','Charlotte','San Francisco','Indianapolis','Seattle','Denver','Washington'],[]);// Generate exactly 5 posts for each city - memoized to prevent regeneration\nconst generateAllPosts=useCallback(()=>{const allPosts=[];// Generate exactly 5 posts for each city with templates\nObject.keys(cityTemplates).forEach(city=>{const cityPosts=generateCityPosts(city,5);allPosts.push(...cityPosts);});// Generate exactly 5 posts for remaining cities in the top 20 list\nconst remainingCities=usCities.filter(city=>!cityTemplates[city]);remainingCities.forEach(city=>{const cityPosts=generateCityPosts(city,5);allPosts.push(...cityPosts);});// Shuffle posts randomly\nreturn allPosts.sort(()=>Math.random()-0.5);},[usCities]);// Helper function for loading profiles from localStorage (fallback)\nconst loadProfilesFromStorage=()=>{try{const stored=localStorage.getItem('newspaperDatingProfiles');const version=localStorage.getItem('newspaperDatingVersion');if(stored&&version===currentVersion){const parsed=JSON.parse(stored);// Convert date strings back to Date objects\nreturn parsed.map(profile=>_objectSpread(_objectSpread({},profile),{},{createdAt:new Date(profile.createdAt),comments:profile.comments||[]}));}else{// Clear old data and return null to force regeneration\nlocalStorage.removeItem('newspaperDatingProfiles');localStorage.setItem('newspaperDatingVersion',currentVersion);return null;}}catch(error){console.error('Failed to load profiles from localStorage:',error);}return null;};const[profiles,setProfiles]=useState([]);const[error,setError]=useState(null);const[isLoading,setIsLoading]=useState(true);// Load profiles from database/localStorage on component mount\nuseEffect(()=>{const loadProfiles=async()=>{try{setError(null);// Check database health first\nconsole.log('ðŸ” Checking database health...');const dbHealth=await HybridPostsService.checkDatabaseHealth();console.log('Database health check result:',dbHealth);if(!dbHealth.healthy){console.warn('âš ï¸ Database health check failed:',dbHealth.error);setError(\"Database connection issue: \".concat(dbHealth.error,\". Posts may not persist.\"));}// Try to load from database first (prioritize fresh data)\ntry{console.log('ðŸ”„ Loading profiles from database...');const dbProfiles=await HybridPostsService.getAllPosts();if(dbProfiles.length>0){console.log(\"\\u2705 Loaded \".concat(dbProfiles.length,\" profiles from database\"));setProfiles(dbProfiles);// Update localStorage with latest data\nlocalStorage.setItem('newspaperDatingProfiles',JSON.stringify(dbProfiles));setIsLoading(false);return;}}catch(dbErr){console.log('âš ï¸ Database loading failed, falling back to localStorage:',dbErr);}// Fallback to localStorage if database fails\nconst storedProfiles=loadProfilesFromStorage();if(storedProfiles&&storedProfiles.length>0){console.log('ðŸ“± Loading profiles from localStorage fallback...');setProfiles(storedProfiles);setIsLoading(false);return;}// Only generate new profiles if none exist\nconsole.log('ðŸ”„ No existing profiles found, generating new ones...');const initialProfiles=generateAllPosts();console.log(\"\\uD83D\\uDD04 Generated \".concat(initialProfiles.length,\" profiles\"));// Try to seed database first\ntry{await HybridPostsService.seedInitialData(initialProfiles);console.log('âœ… Profiles seeded to database');}catch(dbErr){console.log('âš ï¸ Database seeding failed, using localStorage:',dbErr);}// Set profiles and save to localStorage\nsetProfiles(initialProfiles);localStorage.setItem('newspaperDatingProfiles',JSON.stringify(initialProfiles));localStorage.setItem('newspaperDatingVersion',currentVersion);// New version for likes field\nsetIsLoading(false);// Stop loading\n}catch(err){console.error('Error loading profiles:',err);setError('Failed to load posts. Using local data as fallback.');// Final fallback\nconst fallbackProfiles=generateAllPosts();setProfiles(fallbackProfiles);localStorage.setItem('newspaperDatingProfiles',JSON.stringify(fallbackProfiles));localStorage.setItem('newspaperDatingVersion',currentVersion);setIsLoading(false);// Stop loading\n}};loadProfiles();},[]);// Real-time Supabase subscriptions for instant cross-device updates\nuseEffect(()=>{if(!shouldUseSupabase()){console.log('âš ï¸ Supabase not configured - real-time updates disabled');return;}let postsSubscription;let commentsSubscription;const setupRealtimeSubscriptions=async()=>{try{const{supabase}=await import('./services/supabase');// Subscribe to new posts\npostsSubscription=supabase.channel('posts_changes').on('postgres_changes',{event:'*',schema:'public',table:'posts'},async payload=>{console.log('ðŸ”„ Real-time post update:',payload);console.log('ðŸ” Current profiles before update:',profiles.length);if(payload.eventType==='INSERT'){// New post added\nconsole.log('ðŸ” INSERT event, fetching new post...');const newPost=await HybridPostsService.getPostById(payload.new.id);console.log('ðŸ” Fetched new post:',newPost);if(newPost){setProfiles(prev=>{console.log('ðŸ” Adding new post via real-time, previous count:',prev.length);const updated=[...prev,newPost];console.log('ðŸ” Updated count via real-time:',updated.length);return updated;});console.log('âœ… New post added via real-time subscription');}}else if(payload.eventType==='DELETE'){// Post deleted\nconsole.log('ðŸ” DELETE event, removing post:',payload.old.id);setProfiles(prev=>{console.log('ðŸ” Removing post via real-time, previous count:',prev.length);const updated=prev.filter(p=>p.id!==payload.old.id);console.log('ðŸ” Updated count via real-time:',updated.length);return updated;});console.log('âœ… Post deleted via real-time subscription');}}).subscribe();// Subscribe to new comments\ncommentsSubscription=supabase.channel('comments_changes').on('postgres_changes',{event:'*',schema:'public',table:'comments'},async payload=>{console.log('ðŸ”„ Real-time comment update:',payload);if(payload.eventType==='INSERT'){// New comment added\nconst newComment=await HybridPostsService.getCommentById(payload.new.id);if(newComment){setProfiles(prev=>prev.map(profile=>profile.id===payload.new.post_id?_objectSpread(_objectSpread({},profile),{},{comments:[...profile.comments,newComment]}):profile));console.log('âœ… New comment added via real-time subscription');}}}).subscribe();console.log('âœ… Real-time subscriptions established');}catch(error){console.error('âŒ Failed to setup real-time subscriptions:',error);}};setupRealtimeSubscriptions();// Cleanup subscriptions on unmount\nreturn()=>{if(postsSubscription){postsSubscription.unsubscribe();}if(commentsSubscription){commentsSubscription.unsubscribe();}};},[]);const addNewPost=async newProfile=>{console.log('ðŸ” addNewPost called with:',newProfile);console.log('ðŸ” Current profiles count:',profiles.length);try{console.log('ðŸ” Calling HybridPostsService.createPost...');const newPost=await HybridPostsService.createPost(newProfile);console.log('ðŸ” HybridPostsService.createPost returned:',newPost);setProfiles(prev=>{console.log('ðŸ” Setting profiles, previous count:',prev.length);const updated=[...prev,newPost];console.log('ðŸ” Updated profiles count:',updated.length);return updated;});// No need to trigger sync - real-time subscriptions will handle updates\nconsole.log('âœ… New post created and added to local state');}catch(err){console.error('âŒ Error creating post:',err);setError('Failed to create post. Please try again.');// Fallback to local creation\nconsole.log('ðŸ” Using fallback local creation...');const newId=\"user-\".concat(Date.now(),\"-\").concat(Math.random().toString(36).substr(2,9));const newPost=_objectSpread(_objectSpread({},newProfile),{},{id:newId,createdAt:new Date()});console.log('ðŸ” Fallback post created:',newPost);setProfiles(prev=>[...prev,newPost]);}};const addComment=async(profileId,comment)=>{try{const newComment=await HybridPostsService.addComment(profileId,comment);setProfiles(prev=>prev.map(profile=>profile.id===profileId?_objectSpread(_objectSpread({},profile),{},{comments:[...profile.comments,newComment]}):profile));// No need to trigger sync - real-time subscriptions will handle updates\nconsole.log('âœ… New comment added to local state');}catch(err){console.error('Error adding comment:',err);setError('Failed to add comment. Please try again.');// Fallback to local comment\nconst newComment=_objectSpread(_objectSpread({},comment),{},{id:Date.now().toString(),createdAt:new Date()});setProfiles(prev=>prev.map(profile=>profile.id===profileId?_objectSpread(_objectSpread({},profile),{},{comments:[...profile.comments,newComment]}):profile));}};const deletePost=async profileId=>{try{await HybridPostsService.deletePost(profileId);setProfiles(prev=>prev.filter(profile=>profile.id!==profileId));// No need to trigger sync - real-time subscriptions will handle updates\nconsole.log('âœ… Post deleted from local state');}catch(err){console.error('Error deleting post:',err);setError('Failed to delete post. Please try again.');// Fallback to local deletion\nsetProfiles(prev=>prev.filter(profile=>profile.id!==profileId));}};const isUserPost=profileId=>{const result=profileId.startsWith('user-');console.log(\"\\uD83D\\uDD0D Checking if post \".concat(profileId,\" is user post: \").concat(result));return result;};// Filter profiles by current city - more robust matching\nconst cityProfiles=profiles.filter(profile=>{const location=profile.location.toLowerCase();const city=currentCity.toLowerCase();// Check various location formats\nreturn location.startsWith(city+',')||location.startsWith(city+' ')||location===city||location.includes(city+',')||location.includes(city+' ');});// Split city-specific profiles into columns with time-based hierarchy (latest posts first)\nconst totalCityProfiles=cityProfiles.length;const leftColumnCount=Math.ceil(totalCityProfiles/3);const centerColumnCount=Math.ceil((totalCityProfiles-leftColumnCount)/2);// Sort profiles by creation time (newest first) and distribute across columns\nconst sortedCityProfiles=[...cityProfiles].sort((a,b)=>b.createdAt.getTime()-a.createdAt.getTime());const leftColumnProfiles=sortedCityProfiles.slice(0,leftColumnCount);const centerColumnProfiles=sortedCityProfiles.slice(leftColumnCount,leftColumnCount+centerColumnCount);const rightColumnProfiles=sortedCityProfiles.slice(leftColumnCount+centerColumnCount);// Debug: Log city filtering\nconsole.log(\"\\uD83D\\uDD0D Current city: \\\"\".concat(currentCity,\"\\\"\"));console.log(\"\\uD83D\\uDD0D Total profiles: \".concat(profiles.length));console.log(\"\\uD83D\\uDD0D City profiles: \".concat(cityProfiles.length));console.log(\"\\uD83D\\uDD0D Sample profile locations:\",profiles.slice(0,3).map(p=>p.location));console.log(\"\\uD83D\\uDD0D City profile locations:\",cityProfiles.slice(0,3).map(p=>p.location));console.log(\"\\uD83D\\uDD0D Center column profiles: \".concat(centerColumnProfiles.length));console.log(\"\\uD83D\\uDD0D Left column profiles: \".concat(leftColumnProfiles.length));console.log(\"\\uD83D\\uDD0D Right column profiles: \".concat(rightColumnProfiles.length));// Debug: Show location matching details\nif(profiles.length>0){console.log(\"\\uD83D\\uDD0D Location matching debug:\");profiles.slice(0,5).forEach((profile,index)=>{const location=profile.location.toLowerCase();const city=currentCity.toLowerCase();const matches=location.startsWith(city+',')||location.startsWith(city+' ')||location===city||location.includes(city+',')||location.includes(city+' ');console.log(\"  Profile \".concat(index+1,\": \\\"\").concat(profile.location,\"\\\" -> matches \\\"\").concat(currentCity,\"\\\": \").concat(matches));});}// Debug: Log all profiles and their IDs\nconsole.log('ðŸ” All profiles:',profiles.map(p=>({id:p.id,name:p.name,location:p.location})));console.log('ðŸ” City profiles for',currentCity,':',cityProfiles.map(p=>({id:p.id,name:p.name,location:p.location})));// Debug: Log when profiles change\nuseEffect(()=>{console.log('ðŸ” Profiles state changed, count:',profiles.length);console.log('ðŸ” Profiles:',profiles.map(p=>({id:p.id,name:p.name,location:p.location})));},[profiles]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#F5F5F0] min-h-screen w-full\",children:[isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-4 left-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 bg-white border-2 border-black shadow-lg px-3 py-2 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-black\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-nyt text-sm font-medium\",children:\"Loading posts...\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center w-full px-4 sm:px-6 lg:px-8 py-7\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-[33px] items-center justify-start w-full max-w-[1184px]\",children:[/*#__PURE__*/_jsx(NewspaperHeader,{onCityChange:city=>{setCurrentCity(city);// Save current city to localStorage for persistence\nlocalStorage.setItem('newspaperDatingCurrentCity',city);},usCities:usCities,onAddPostClick:()=>setIsAddPostOpen(true),currentCity:currentCity}),/*#__PURE__*/_jsx(AddPostForm,{onAddPost:addNewPost,isOpen:isAddPostOpen,setIsOpen:setIsAddPostOpen,currentCity:currentCity}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 w-full\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-nyt text-red-800 text-sm\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),className:\"font-nyt text-red-600 text-xs underline mt-1\",children:\"Dismiss\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-6 w-full lg:hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"newspaper\",onClick:()=>setIsAddPostOpen(true),className:\"text-sm px-6 py-2\",children:\"+ Add New Post\"})}),centerColumnProfiles.length>0&&/*#__PURE__*/_jsx(ProfileCardWithImage,{profile:centerColumnProfiles[0],onAddComment:addComment,onDeletePost:deletePost,onLikePost:likePost,isUserPost:isUserPost(centerColumnProfiles[0].id),currentCity:currentCity},\"\".concat(centerColumnProfiles[0].id,\"-\").concat(currentCity)),/*#__PURE__*/_jsx(DateIdeas,{city:currentCity}),sortedCityProfiles.map(profile=>/*#__PURE__*/_jsx(ProfileCard,{profile:profile,onAddComment:addComment,onDeletePost:deletePost,onLikePost:likePost,isUserPost:isUserPost(profile.id)},profile.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:flex flex-row gap-6 items-stretch justify-start w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-7 items-start justify-start w-full lg:w-[321px]\",children:leftColumnProfiles.map(profile=>/*#__PURE__*/_jsx(ProfileCard,{profile:profile,onAddComment:addComment,onDeletePost:deletePost,onLikePost:likePost,isUserPost:isUserPost(profile.id)},profile.id))}),/*#__PURE__*/_jsx(VerticalDivider,{}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-[30px] items-start justify-start w-full lg:w-[436px]\",children:centerColumnProfiles.map((profile,index)=>{return index===0?/*#__PURE__*/_jsx(ProfileCardWithImage,{profile:profile,onAddComment:addComment,onDeletePost:deletePost,onLikePost:likePost,isUserPost:isUserPost(profile.id),currentCity:currentCity},\"\".concat(profile.id,\"-\").concat(currentCity)):/*#__PURE__*/_jsx(ProfileCard,{profile:profile,onAddComment:addComment,onDeletePost:deletePost,onLikePost:likePost,isUserPost:isUserPost(profile.id)},profile.id);})}),/*#__PURE__*/_jsx(VerticalDivider,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-[26px] items-start justify-start w-full lg:w-[331px]\",children:[/*#__PURE__*/_jsx(DateIdeas,{city:currentCity}),rightColumnProfiles.map(profile=>/*#__PURE__*/_jsx(ProfileCard,{profile:profile,onAddComment:addComment,onDeletePost:deletePost,onLikePost:likePost,isUserPost:isUserPost(profile.id)},profile.id))]})]})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","shouldUseSupabase","Button","Badge","Heart","MessageCircle","HybridPostsService","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","cityTemplates","names","titles","descriptions","interests","generateCityPosts","city","count","templates","fallbackTemplate","posts","usedNames","Set","availableNames","i","randomName","size","length","clear","Math","floor","random","has","add","randomTitle","randomDescription","randomInterests","push","id","concat","name","age","title","location","getStateFromCity","description","createdAt","Date","now","comments","template","stateMap","getCityImagePath","cityImageMap","availableImages","formatTimestamp","date","diffInMinutes","getTime","diffInHours","diffInDays","ProfileCard","_ref","profile","onAddComment","onDeletePost","isUserPost","showComments","setShowComments","newComment","setNewComment","commentAuthor","setCommentAuthor","handleSubmitComment","e","preventDefault","trim","text","author","className","children","fill","preserveAspectRatio","viewBox","stroke","x2","y1","y2","map","interest","index","variant","onClick","onSubmit","type","placeholder","value","onChange","target","required","comment","ProfileCardWithImage","_ref2","onLikePost","currentCity","console","log","image","style","backgroundImage","src","alt","border","onError","error","currentTarget","encodedCity","encodeURIComponent","alternatives","currentSrc","currentFormat","split","pop","nextFormat","find","format","includes","onLoad","onLoadStart","handleLike","disabled","isLiking","NewspaperDivider","DateIdeas","_ref3","cityDateIdeas","ideas","idea","readOnly","strokeDasharray","NewspaperHeader","_ref4","onCityChange","usCities","onAddPostClick","today","dateString","toLocaleDateString","weekday","year","month","day","handleCityChange","selected","filter","AddPostForm","_ref5","onAddPost","isOpen","setIsOpen","formData","setFormData","prev","_objectSpread","handleSubmit","newProfile","parseInt","min","max","VerticalDivider","App","currentVersion","setCurrentCity","savedCity","localStorage","getItem","isAddPostOpen","setIsAddPostOpen","generateAllPosts","allPosts","Object","keys","forEach","cityPosts","remainingCities","sort","loadProfilesFromStorage","stored","version","parsed","JSON","parse","removeItem","setItem","profiles","setProfiles","setError","isLoading","setIsLoading","loadProfiles","dbHealth","checkDatabaseHealth","healthy","warn","dbProfiles","getAllPosts","stringify","dbErr","storedProfiles","initialProfiles","seedInitialData","err","fallbackProfiles","postsSubscription","commentsSubscription","setupRealtimeSubscriptions","supabase","channel","on","event","schema","table","payload","eventType","newPost","getPostById","new","updated","old","p","subscribe","getCommentById","post_id","unsubscribe","addNewPost","createPost","newId","toString","substr","addComment","profileId","deletePost","result","startsWith","cityProfiles","toLowerCase","totalCityProfiles","leftColumnCount","ceil","centerColumnCount","sortedCityProfiles","a","b","leftColumnProfiles","slice","centerColumnProfiles","rightColumnProfiles","matches","likePost"],"sources":["/Users/mrunal/Downloads/Newspaper Dating App/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { shouldUseSupabase } from './services/supabase';\nimport { Button } from './components/minimal/button';\nimport { Badge } from './components/minimal/badge';\nimport { Heart, MessageCircle } from 'lucide-react';\nimport { HybridPostsService } from './services/hybridPostsService';\nimport { Profile, Comment } from './types';\n\n// City-specific template posts\nconst cityTemplates = {\n  'New York': [\n    {\n      names: ['Alex', 'Jordan', 'Sam', 'Taylor', 'Casey', 'Morgan', 'Riley', 'Quinn'],\n      titles: [\n        'Seeking Coffee & Conversation in the City',\n        'Brooklyn Artist Looking for Inspiration',\n        'Wall Street Professional Seeking Balance',\n        'Queens Foodie Wants Dining Partner',\n        'Manhattan Creative Seeks Muse'\n      ],\n      descriptions: [\n        \"NYC transplant looking for someone to explore hidden coffee shops and rooftop bars with. Love discovering new neighborhoods and sharing stories over craft cocktails.\",\n        \"Brooklyn-based painter seeking someone who appreciates art, live music, and late-night conversations about life, love, and everything in between.\",\n        \"Finance professional by day, jazz enthusiast by night. Looking for someone to share weekend adventures and weekday decompression sessions.\",\n        \"Queens native passionate about authentic cuisine from every culture. Want to find someone to explore the city's diverse food scene with.\",\n        \"Creative director seeking someone who values both ambition and authenticity. Let's build something beautiful together in this crazy city.\"\n      ],\n      interests: [\n        ['Coffee', 'Art', 'Live Music'],\n        ['Painting', 'Jazz', 'Brooklyn'],\n        ['Finance', 'Jazz', 'Weekend Adventures'],\n        ['Food', 'Culture', 'Queens'],\n        ['Creativity', 'Ambition', 'Authenticity']\n      ]\n    }\n  ],\n  'Los Angeles': [\n    {\n      names: ['Blake', 'Skyler', 'Avery', 'Rowan', 'Sage', 'River', 'Phoenix', 'Ocean'],\n      titles: [\n        'Venice Beach Creative Seeking Sunshine Partner',\n        'Hollywood Dreamer Wants Real Connection',\n        'Silver Lake Musician Looking for Harmony',\n        'Santa Monica Tech Founder Seeks Balance',\n        'Echo Park Artist Wants to Paint Together'\n      ],\n      descriptions: [\n        \"Venice Beach local who believes in the power of sunshine, creativity, and authentic connections. Let's build sandcastles and dreams together.\",\n        \"Hollywood isn't just about fameâ€”it's about finding someone real in a world of make-believe. Looking for genuine connection and shared adventures.\",\n        \"Silver Lake musician seeking someone to harmonize with in life. Whether it's music, conversation, or just being together, let's create something beautiful.\",\n        \"Tech founder who believes success means nothing without someone to share it with. Looking for balance between ambition and meaningful relationships.\",\n        \"Echo Park artist who sees beauty in everything. Want to find someone to paint the canvas of life with, one brushstroke at a time.\"\n      ],\n      interests: [\n        ['Beach', 'Creativity', 'Sunshine'],\n        ['Hollywood', 'Authenticity', 'Adventure'],\n        ['Music', 'Harmony', 'Silver Lake'],\n        ['Technology', 'Success', 'Balance'],\n        ['Art', 'Beauty', 'Echo Park']\n      ]\n    }\n  ],\n  'San Francisco': [\n    {\n      names: ['Riley', 'Quinn', 'Avery', 'Blake', 'Skyler', 'Rowan', 'Sage', 'River'],\n      titles: [\n        'Mission District Foodie Seeks Culinary Partner',\n        'Marina Tech Professional Wants Work-Life Balance',\n        'North Beach Poet Looking for Muse',\n        'Hayes Valley Designer Seeks Creative Connection',\n        'Pacific Heights Professional Wants Authenticity'\n      ],\n      descriptions: [\n        \"Mission District resident who believes food is love. Looking for someone to explore the city's incredible culinary scene with, from food trucks to fine dining.\",\n        \"Tech professional who's learned that success isn't everything. Seeking someone to help maintain work-life balance and share the beauty of the Bay Area.\",\n        \"North Beach poet who finds inspiration in everyday moments. Want to connect with someone who sees the poetry in life and loves deep conversations.\",\n        \"Hayes Valley designer seeking someone who appreciates both creativity and authenticity. Let's build something beautiful together in this amazing city.\",\n        \"Pacific Heights professional who values substance over status. Looking for genuine connection and someone to share the simple pleasures of life with.\"\n      ],\n      interests: [\n        ['Food', 'Culinary Arts', 'Mission District'],\n        ['Technology', 'Work-Life Balance', 'Bay Area'],\n        ['Poetry', 'Inspiration', 'North Beach'],\n        ['Design', 'Creativity', 'Hayes Valley'],\n        ['Authenticity', 'Simple Pleasures', 'Pacific Heights']\n      ]\n    }\n  ],\n  'Chicago': [\n    {\n      names: ['Jordan', 'Casey', 'Morgan', 'Riley', 'Quinn', 'Alex', 'Sam', 'Taylor'],\n      titles: [\n        'Wicker Park Artist Seeks Creative Soulmate',\n        'Lincoln Park Professional Wants Weekend Adventures',\n        'Lakeview Foodie Looking for Dining Partner',\n        'West Loop Entrepreneur Seeks Work-Life Harmony',\n        'Gold Coast Professional Wants Authentic Connection'\n      ],\n      descriptions: [\n        \"Wicker Park artist who believes creativity flows from connection. Looking for someone to inspire and be inspired by in this amazing neighborhood.\",\n        \"Lincoln Park professional who loves exploring the city on weekends. Seeking someone to share adventures with, from museums to music venues.\",\n        \"Lakeview resident passionate about Chicago's incredible food scene. Want to find someone to explore new restaurants and hidden gems with.\",\n        \"West Loop entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\n        \"Gold Coast professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of life with.\"\n      ],\n      interests: [\n        ['Art', 'Creativity', 'Wicker Park'],\n        ['Adventure', 'Exploration', 'Lincoln Park'],\n        ['Food', 'Restaurants', 'Lakeview'],\n        ['Entrepreneurship', 'Work-Life Balance', 'West Loop'],\n        ['Authenticity', 'Simple Pleasures', 'Gold Coast']\n      ]\n    }\n  ],\n  'Austin': [\n    {\n      names: ['Skyler', 'Rowan', 'Sage', 'River', 'Phoenix', 'Ocean', 'Blake', 'Avery'],\n      titles: [\n        'East Austin Musician Seeks Creative Partner',\n        'South Congress Foodie Wants Culinary Adventures',\n        'Downtown Tech Professional Seeks Work-Life Balance',\n        'Zilker Park Enthusiast Looking for Nature Lover',\n        'Barton Springs Local Wants Authentic Connection'\n      ],\n      descriptions: [\n        \"East Austin musician who believes music is the language of the soul. Looking for someone to harmonize with in life and create beautiful melodies together.\",\n        \"South Congress foodie passionate about Austin's incredible culinary scene. Want to explore food trucks, farmers markets, and hidden gems together.\",\n        \"Downtown tech professional who's learned that success isn't everything. Seeking someone to help maintain work-life balance and enjoy Austin's unique culture.\",\n        \"Zilker Park enthusiast who finds peace in nature. Looking for someone to share outdoor adventures, from hiking to swimming in Barton Springs.\",\n        \"Barton Springs local who values authenticity and connection. Seeking someone real to share the simple pleasures of Austin life with.\"\n      ],\n      interests: [\n        ['Music', 'Creativity', 'East Austin'],\n        ['Food', 'Culinary Arts', 'South Congress'],\n        ['Technology', 'Work-Life Balance', 'Downtown'],\n        ['Nature', 'Outdoors', 'Zilker Park'],\n        ['Authenticity', 'Local Culture', 'Barton Springs']\n      ]\n    }\n  ],\n  'Houston': [\n    {\n      names: ['Jordan', 'Casey', 'Morgan', 'Riley', 'Quinn', 'Alex', 'Sam', 'Taylor'],\n      titles: [\n        'Montrose Artist Seeks Creative Inspiration',\n        'Rice Village Professional Wants Weekend Adventures',\n        'Heights Foodie Looking for Dining Partner',\n        'Galleria Entrepreneur Seeks Work-Life Harmony',\n        'River Oaks Professional Wants Authentic Connection'\n      ],\n      descriptions: [\n        \"Montrose artist who finds beauty in Houston's diverse culture. Looking for someone to explore art galleries and share creative inspiration with.\",\n        \"Rice Village professional who loves discovering Houston's hidden gems. Seeking someone to share weekend adventures and explore the city together.\",\n        \"Heights resident passionate about Houston's incredible food scene. Want to find someone to explore new restaurants and food trucks with.\",\n        \"Galleria entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\n        \"River Oaks professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of Houston life with.\"\n      ],\n      interests: [\n        ['Art', 'Creativity', 'Montrose'],\n        ['Adventure', 'Exploration', 'Rice Village'],\n        ['Food', 'Restaurants', 'Heights'],\n        ['Entrepreneurship', 'Work-Life Balance', 'Galleria'],\n        ['Authenticity', 'Simple Pleasures', 'River Oaks']\n      ]\n    }\n  ],\n  'Phoenix': [\n    {\n      names: ['Blake', 'Skyler', 'Avery', 'Rowan', 'Sage', 'River', 'Phoenix', 'Ocean'],\n      titles: [\n        'Scottsdale Creative Seeks Sunshine Partner',\n        'Downtown Phoenix Professional Wants Real Connection',\n        'Tempe Musician Looking for Harmony',\n        'Chandler Tech Professional Seeks Balance',\n        'Gilbert Local Wants to Explore Together'\n      ],\n      descriptions: [\n        \"Scottsdale creative who believes in the power of sunshine and authentic connections. Let's explore the desert and build dreams together.\",\n        \"Downtown Phoenix professional seeking someone real in the Valley of the Sun. Looking for genuine connection and shared adventures.\",\n        \"Tempe musician seeking someone to harmonize with in life. Whether it's music, conversation, or just being together, let's create something beautiful.\",\n        \"Chandler tech professional who believes success means nothing without someone to share it with. Looking for balance between ambition and meaningful relationships.\",\n        \"Gilbert local who sees beauty in the desert landscape. Want to find someone to explore Arizona's natural wonders with.\"\n      ],\n      interests: [\n        ['Desert', 'Creativity', 'Scottsdale'],\n        ['Downtown', 'Authenticity', 'Adventure'],\n        ['Music', 'Harmony', 'Tempe'],\n        ['Technology', 'Success', 'Balance'],\n        ['Nature', 'Beauty', 'Gilbert']\n      ]\n    }\n  ],\n  'Philadelphia': [\n    {\n      names: ['Riley', 'Quinn', 'Avery', 'Blake', 'Skyler', 'Rowan', 'Sage', 'River'],\n      titles: [\n        'Fishtown Artist Seeks Creative Soulmate',\n        'Rittenhouse Professional Wants Weekend Adventures',\n        'South Philly Foodie Looking for Dining Partner',\n        'University City Entrepreneur Seeks Work-Life Harmony',\n        'Old City Professional Wants Authentic Connection'\n      ],\n      descriptions: [\n        \"Fishtown artist who believes creativity flows from connection. Looking for someone to inspire and be inspired by in this amazing neighborhood.\",\n        \"Rittenhouse professional who loves exploring Philly on weekends. Seeking someone to share adventures with, from museums to music venues.\",\n        \"South Philly resident passionate about Philadelphia's incredible food scene. Want to find someone to explore new restaurants and hidden gems with.\",\n        \"University City entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\n        \"Old City professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of Philadelphia life with.\"\n      ],\n      interests: [\n        ['Art', 'Creativity', 'Fishtown'],\n        ['Adventure', 'Exploration', 'Rittenhouse'],\n        ['Food', 'Restaurants', 'South Philly'],\n        ['Entrepreneurship', 'Work-Life Balance', 'University City'],\n        ['Authenticity', 'Simple Pleasures', 'Old City']\n      ]\n    }\n  ],\n  'San Antonio': [\n    {\n      names: ['Jordan', 'Casey', 'Morgan', 'Riley', 'Quinn', 'Alex', 'Sam', 'Taylor'],\n      titles: [\n        'Pearl District Creative Seeks Inspiration',\n        'King William Professional Wants Weekend Adventures',\n        'Southtown Foodie Looking for Dining Partner',\n        'Stone Oak Entrepreneur Seeks Work-Life Harmony',\n        'Alamo Heights Professional Wants Authentic Connection'\n      ],\n      descriptions: [\n        \"Pearl District creative who finds inspiration in San Antonio's rich culture. Looking for someone to explore art galleries and share creative moments with.\",\n        \"King William professional who loves discovering San Antonio's hidden gems. Seeking someone to share weekend adventures and explore the city together.\",\n        \"Southtown resident passionate about San Antonio's incredible food scene. Want to find someone to explore new restaurants and food trucks with.\",\n        \"Stone Oak entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\n        \"Alamo Heights professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of San Antonio life with.\"\n      ],\n      interests: [\n        ['Art', 'Creativity', 'Pearl District'],\n        ['Adventure', 'Exploration', 'King William'],\n        ['Food', 'Restaurants', 'Southtown'],\n        ['Entrepreneurship', 'Work-Life Balance', 'Stone Oak'],\n        ['Authenticity', 'Simple Pleasures', 'Alamo Heights']\n      ]\n    }\n  ],\n  'San Jose': [\n    {\n      names: ['Blake', 'Skyler', 'Avery', 'Rowan', 'Sage', 'River', 'Phoenix', 'Ocean'],\n      titles: [\n        'Downtown Tech Professional Seeks Work-Life Balance',\n        'Willow Glen Local Wants to Explore Together',\n        'Santana Row Foodie Looking for Culinary Partner',\n        'Almaden Valley Entrepreneur Seeks Harmony',\n        'Campbell Local Wants Authentic Connection'\n      ],\n      descriptions: [\n        \"Downtown San Jose tech professional who's learned that success isn't everything. Seeking someone to help maintain work-life balance and enjoy the Bay Area.\",\n        \"Willow Glen resident who loves exploring San Jose's hidden gems. Looking for someone to share weekend adventures and discover new experiences with.\",\n        \"Santana Row foodie passionate about San Jose's diverse culinary scene. Want to find someone to explore new restaurants and food trucks with.\",\n        \"Almaden Valley entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\n        \"Campbell local who values authenticity over appearances. Seeking someone real to share the simple pleasures of San Jose life with.\"\n      ],\n      interests: [\n        ['Technology', 'Work-Life Balance', 'Downtown'],\n        ['Adventure', 'Exploration', 'Willow Glen'],\n        ['Food', 'Culinary Arts', 'Santana Row'],\n        ['Entrepreneurship', 'Work-Life Balance', 'Almaden Valley'],\n        ['Authenticity', 'Simple Pleasures', 'Campbell']\n      ]\n    }\n  ],\n  'Dallas': [\n    {\n      names: ['Jordan', 'Casey', 'Morgan', 'Riley', 'Quinn', 'Alex', 'Sam', 'Taylor'],\n      titles: [\n        'Deep Ellum Artist Seeks Creative Inspiration',\n        'Uptown Professional Wants Weekend Adventures',\n        'Bishop Arts Foodie Looking for Dining Partner',\n        'Oak Lawn Entrepreneur Seeks Work-Life Harmony',\n        'Highland Park Professional Wants Authentic Connection'\n      ],\n      descriptions: [\n        \"Deep Ellum artist who finds inspiration in Dallas's vibrant culture. Looking for someone to explore art galleries and share creative moments with.\",\n        \"Uptown professional who loves discovering Dallas's hidden gems. Seeking someone to share weekend adventures and explore the city together.\",\n        \"Bishop Arts resident passionate about Dallas's incredible food scene. Want to find someone to explore new restaurants and food trucks with.\",\n        \"Oak Lawn entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\n        \"Highland Park professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of Dallas life with.\"\n      ],\n      interests: [\n        ['Art', 'Creativity', 'Deep Ellum'],\n        ['Adventure', 'Exploration', 'Uptown'],\n        ['Food', 'Restaurants', 'Bishop Arts'],\n        ['Entrepreneurship', 'Work-Life Balance', 'Oak Lawn'],\n        ['Authenticity', 'Simple Pleasures', 'Highland Park']\n      ]\n    }\n  ],\n  'Seattle': [\n    {\n      names: ['Blake', 'Skyler', 'Avery', 'Rowan', 'Sage', 'River', 'Phoenix', 'Ocean'],\n      titles: [\n        'Capitol Hill Creative Seeks Inspiration',\n        'Fremont Local Wants to Explore Together',\n        'Ballard Foodie Looking for Culinary Partner',\n        'Queen Anne Entrepreneur Seeks Harmony',\n        'Green Lake Professional Wants Authentic Connection'\n      ],\n      descriptions: [\n        \"Capitol Hill creative who finds inspiration in Seattle's unique culture. Looking for someone to explore art galleries and share creative moments with.\",\n        \"Fremont resident who loves discovering Seattle's hidden gems. Seeking someone to share weekend adventures and explore the city together.\",\n        \"Ballard foodie passionate about Seattle's incredible food scene. Want to find someone to explore new restaurants and food trucks with.\",\n        \"Queen Anne entrepreneur who believes success means nothing without someone to share it with. Looking for work-life harmony and meaningful relationships.\",\n        \"Green Lake professional who values authenticity over appearances. Seeking someone real to share the simple pleasures of Seattle life with.\"\n      ],\n      interests: [\n        ['Art', 'Creativity', 'Capitol Hill'],\n        ['Adventure', 'Exploration', 'Fremont'],\n        ['Food', 'Restaurants', 'Ballard'],\n        ['Entrepreneurship', 'Work-Life Balance', 'Queen Anne'],\n        ['Authenticity', 'Simple Pleasures', 'Green Lake']\n      ]\n    }\n  ]\n};\n\n// Generate random posts for a city\nfunction generateCityPosts(city: string, count: number): Profile[] {\n  const templates = cityTemplates[city as keyof typeof cityTemplates];\n  if (!templates) {\n    // Fallback template for cities without specific templates\n    const fallbackTemplate = {\n      names: ['Alex', 'Jordan', 'Sam', 'Taylor', 'Casey', 'Morgan', 'Riley', 'Quinn'],\n      titles: [\n        'Seeking Connection in the City',\n        'Professional Looking for Balance',\n        'Creative Seeks Inspiration',\n        'Local Wants to Explore Together',\n        'Professional Wants Authentic Connection'\n      ],\n      descriptions: [\n        \"City resident looking for someone to explore local attractions and share meaningful conversations with. Love discovering new places and building genuine connections.\",\n        \"Professional seeking someone who appreciates both ambition and authenticity. Looking for work-life balance and meaningful relationships.\",\n        \"Creative soul seeking someone to inspire and be inspired by. Want to build something beautiful together in this amazing city.\",\n        \"Local who loves exploring the city's hidden gems. Looking for someone to share adventures and discover new experiences with.\",\n        \"Professional who values substance over status. Seeking genuine connection and someone to share the simple pleasures of life with.\"\n      ],\n      interests: [\n        ['Exploration', 'Connection', 'Local Culture'],\n        ['Professional Growth', 'Balance', 'Authenticity'],\n        ['Creativity', 'Inspiration', 'Art'],\n        ['Adventure', 'Discovery', 'Local Gems'],\n        ['Authenticity', 'Simple Pleasures', 'Connection']\n      ]\n    };\n    \n    const posts: Profile[] = [];\n    \n    // Create arrays to track used names and ensure uniqueness\n    const usedNames = new Set<string>();\n    const availableNames = [...fallbackTemplate.names];\n    \n    for (let i = 0; i < count; i++) {\n      let randomName: string;\n      \n      // If we've used all available names, reset the used names set\n      if (usedNames.size >= availableNames.length) {\n        usedNames.clear();\n      }\n      \n      // Find an unused name\n      do {\n        randomName = availableNames[Math.floor(Math.random() * availableNames.length)];\n      } while (usedNames.has(randomName));\n      \n      usedNames.add(randomName);\n      \n      const randomTitle = fallbackTemplate.titles[Math.floor(Math.random() * fallbackTemplate.titles.length)];\n      const randomDescription = fallbackTemplate.descriptions[Math.floor(Math.random() * fallbackTemplate.descriptions.length)];\n      const randomInterests = fallbackTemplate.interests[Math.floor(Math.random() * fallbackTemplate.interests.length)];\n      \n      posts.push({\n        id: `${city}-${i + 1}`,\n        name: randomName,\n        age: Math.floor(Math.random() * 15) + 25, // 25-40\n        title: randomTitle,\n        location: `${city}, ${getStateFromCity(city)}`,\n        description: randomDescription,\n        interests: randomInterests,\n        createdAt: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000), // Random time in last 7 days\n        comments: []\n      });\n    }\n    return posts;\n  }\n  \n  const posts: Profile[] = [];\n  const template = templates[0]; // Use first template for now\n  \n  // Create arrays to track used names and ensure uniqueness\n  const usedNames = new Set<string>();\n  const availableNames = [...template.names];\n  \n  for (let i = 0; i < count; i++) {\n    let randomName: string;\n    \n    // If we've used all available names, reset the used names set\n    if (usedNames.size >= availableNames.length) {\n      usedNames.clear();\n    }\n    \n    // Find an unused name\n    do {\n      randomName = availableNames[Math.floor(Math.random() * availableNames.length)];\n    } while (usedNames.has(randomName));\n    \n    usedNames.add(randomName);\n    \n    const randomTitle = template.titles[Math.floor(Math.random() * template.titles.length)];\n    const randomDescription = template.descriptions[Math.floor(Math.random() * template.descriptions.length)];\n    const randomInterests = template.interests[Math.floor(Math.random() * template.interests.length)];\n    \n    posts.push({\n      id: `${city}-${i + 1}`,\n      name: randomName,\n      age: Math.floor(Math.random() * 15) + 25, // 25-40\n      title: randomTitle,\n      location: `${city}, ${getStateFromCity(city)}`,\n      description: randomDescription,\n      interests: randomInterests,\n      createdAt: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000), // Random time in last 7 days\n      comments: []\n    });\n  }\n  \n  return posts;\n}\n\n// Get state abbreviation for cities\n// Get state abbreviation for cities\nfunction getStateFromCity(city: string): string {\n  const stateMap: { [key: string]: string } = {\n    'New York': 'NY',\n    'Los Angeles': 'CA',\n    'San Francisco': 'CA',\n    'Chicago': 'IL',\n    'Austin': 'TX',\n    'Houston': 'TX',\n    'Phoenix': 'AZ',\n    'Philadelphia': 'PA',\n    'San Antonio': 'TX',\n    'San Diego': 'CA',\n    'Dallas': 'TX',\n    'San Jose': 'CA',\n    'Jacksonville': 'FL',\n    'Fort Worth': 'TX',\n    'Columbus': 'OH',\n    'Charlotte': 'NC',\n    'Indianapolis': 'IN',\n    'Seattle': 'WA',\n    'Denver': 'CO',\n    'Washington': 'DC'\n  };\n  return stateMap[city] || 'CA';\n}\n\n// Get the correct image path for a city, with fallback support\nfunction getCityImagePath(city: string): string {\n  // Map of cities to their available image formats\n  const cityImageMap: { [key: string]: string[] } = {\n    'New York': ['New York.jpg'],\n    'Los Angeles': ['Los Angeles.jpg'],\n    'San Francisco': ['San Francisco.jpg'],\n    'Chicago': ['Chicago.jpg'],\n    'Austin': ['Austin.jpg'],\n    'Houston': ['Houston.jpg'],\n    'Phoenix': ['Phoenix.jpg', 'Phoenix.webp'],\n    'Philadelphia': ['Philadelphia.jpg'],\n    'San Antonio': ['San Antonio.jpg'],\n    'San Diego': ['San Diego.jpg'],\n    'Dallas': ['Dallas.jpg'],\n    'San Jose': ['San Jose.jpg'],\n    'Jacksonville': ['Jacksonville.jpg'],\n    'Fort Worth': ['Fort Worth.jpg'],\n    'Columbus': ['Columbus.jpeg'],\n    'Charlotte': ['Charlotte.jpg'],\n    'Indianapolis': ['Indianapolis.jpg'],\n    'Seattle': ['Seattle.jpeg'],\n    'Denver': ['Denver.jpg'],\n    'Washington': ['Washington.jpg']\n  };\n\n  const availableImages = cityImageMap[city];\n  if (availableImages && availableImages.length > 0) {\n    // Return the first available image (primary format)\n    return `/${availableImages[0]}`;\n  }\n  \n  // Fallback to San Francisco if no city-specific image is found\n  return '/San Francisco.jpg';\n}\n\nfunction formatTimestamp(date: Date): string {\n  const now = new Date();\n  const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\n  \n  if (diffInMinutes < 5) {\n    return 'Just now';\n  } else if (diffInMinutes < 60) {\n    return `${diffInMinutes}m ago`;\n  } else if (diffInMinutes < 1440) { // 24 hours\n    const diffInHours = Math.floor(diffInMinutes / 60);\n    return `${diffInHours}h ago`;\n  } else {\n    const diffInDays = Math.floor(diffInMinutes / 1440);\n    return `${diffInDays}d ago`;\n  }\n}\n\nfunction ProfileCard({ profile, onAddComment, onDeletePost, isUserPost }: {\n  profile: Profile;\n  onAddComment: (profileId: string, comment: Omit<Comment, 'id' | 'createdAt'>) => void;\n  onDeletePost: (profileId: string) => void;\n  isUserPost: (profileId: string) => boolean;\n}) {\n  const [showComments, setShowComments] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const [commentAuthor, setCommentAuthor] = useState('');\n\n  const handleSubmitComment = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (newComment.trim() && commentAuthor.trim()) {\n      onAddComment(profile.id, {\n        text: newComment.trim(),\n        author: commentAuthor.trim()\n      });\n      setNewComment('');\n      setCommentAuthor('');\n    }\n  };\n\n  return (\n    <div className=\"box-border content-stretch flex flex-col gap-2.5 items-start justify-start p-0 relative shrink-0 w-full\">\n      <div className=\"h-[38px] relative shrink-0 w-[100px] flex items-center justify-center\">\n        <div className=\"h-[38px] w-[100px] flex items-center justify-center\">\n          <div className=\"flex flex-col font-nyt justify-center items-center leading-[0] not-italic text-[#252424] text-[16px] text-center text-nowrap\">\n            <p className=\"block leading-[normal] whitespace-pre\">{profile.name},{profile.age}</p>\n          </div>\n        </div>\n        <div\n          aria-hidden=\"true\"\n          className=\"absolute border border-[#000000] border-solid inset-0 pointer-events-none\"\n        />\n      </div>\n      \n      <div className=\"box-border content-stretch flex flex-col gap-2 items-start justify-start p-0 relative shrink-0 w-full\">\n        <div className=\"flex flex-col font-futura-condensed-extra-bold font-futura-fallback justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[16px] text-left w-full\">\n          <p className=\"block leading-[normal]\">{profile.title}</p>\n        </div>\n        <div className=\"h-0 relative shrink-0 w-full\">\n          <div className=\"absolute bottom-0 left-0 right-0 top-[-1px]\">\n            <svg\n              className=\"block size-full\"\n              fill=\"none\"\n              preserveAspectRatio=\"none\"\n              viewBox=\"0 0 321 1\"\n            >\n              <line\n                id=\"Line 3\"\n                stroke=\"var(--stroke-0, black)\"\n                x2=\"321\"\n                y1=\"0.5\"\n                y2=\"0.5\"\n              />\n            </svg>\n          </div>\n        </div>\n        <div className=\"flex flex-col font-nyt justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[16px] text-left w-full\">\n          <p className=\"block leading-[normal]\">{profile.description}</p>\n        </div>\n        \n        {/* Timestamp */}\n        <div className=\"flex flex-col font-nyt justify-end leading-[0] not-italic relative shrink-0 text-[#6b6969] text-[12px] text-left w-full mt-2\">\n          <p className=\"block leading-[normal]\">{formatTimestamp(profile.createdAt)}</p>\n        </div>\n        \n        {/* Interest tags */}\n        <div className=\"flex flex-wrap gap-1 mt-2\">\n          {profile.interests.map((interest, index) => (\n            <Badge key={index} variant=\"outline\" className=\"text-xs font-nyt\">\n              {interest}\n            </Badge>\n          ))}\n        </div>\n        \n        {/* Action buttons */}\n        <div className=\"flex gap-2 mt-3\">\n          <Button\n            size=\"sm\"\n            variant=\"newspaper\"\n            onClick={() => setShowComments(!showComments)}\n            className=\"text-xs\"\n          >\n            <MessageCircle className=\"w-3 h-3\" />\n            {profile.comments.length} Comments\n          </Button>\n          {isUserPost && (\n            <Button\n              size=\"sm\"\n              variant=\"newspaper\"\n              onClick={() => onDeletePost(profile.id)}\n              className=\"text-xs\"\n            >\n              ðŸ—‘ï¸ Delete\n            </Button>\n          )}\n        </div>\n\n        {/* Comments Section */}\n        {showComments && (\n          <div className=\"mt-4 border-t border-gray-200 pt-4\">\n            <h4 className=\"font-nyt font-bold text-sm mb-3\">Comments</h4>\n            \n            {/* Comment Form */}\n            <form onSubmit={handleSubmitComment} className=\"mb-4\">\n              <div className=\"flex flex-col gap-2\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Your name\"\n                  value={commentAuthor}\n                  onChange={(e) => setCommentAuthor(e.target.value)}\n                  className=\"p-2 border border-gray-300 rounded text-sm font-nyt\"\n                  required\n                />\n                <textarea\n                  placeholder=\"Write a comment...\"\n                  value={newComment}\n                  onChange={(e) => setNewComment(e.target.value)}\n                  className=\"p-2 border border-gray-300 rounded text-sm font-nyt h-20 resize-none\"\n                  required\n                />\n                <Button\n                  type=\"submit\"\n                  size=\"sm\"\n                  variant=\"newspaper\"\n                  className=\"text-xs self-start\"\n                >\n                  Post Comment\n                </Button>\n              </div>\n            </form>\n\n            {/* Comments List */}\n            <div className=\"space-y-3\">\n              {profile.comments.map((comment) => (\n                <div key={comment.id} className=\"bg-gray-50 p-3 rounded\">\n                  <div className=\"flex justify-between items-start mb-1\">\n                    <span className=\"font-nyt font-bold text-sm\">{comment.author}</span>\n                    <span className=\"text-xs text-gray-500 font-nyt\">\n                      {formatTimestamp(comment.createdAt)}\n                    </span>\n                  </div>\n                  <p className=\"text-sm font-nyt\">{comment.text}</p>\n                </div>\n              ))}\n              {profile.comments.length === 0 && (\n                <p className=\"text-sm text-gray-500 font-nyt italic\">No comments yet. Be the first to comment!</p>\n              )}\n            </div>\n          </div>\n        )}\n        \n        <div className=\"h-0 relative shrink-0 w-full\">\n          <div className=\"absolute bottom-0 left-0 right-0 top-[-1px]\">\n            <svg\n              className=\"block size-full\"\n              fill=\"none\"\n              preserveAspectRatio=\"none\"\n              viewBox=\"0 0 321 1\"\n            >\n              <line\n                id=\"Line 3\"\n                stroke=\"var(--stroke-0, black)\"\n                x2=\"321\"\n                y1=\"0.5\"\n                y2=\"0.5\"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ProfileCardWithImage({ profile, onAddComment, onDeletePost, onLikePost, isUserPost, currentCity }: { \n  profile: Profile; \n  onAddComment: (profileId: string, comment: Omit<Comment, 'id' | 'createdAt'>) => void;\n  onDeletePost: (profileId: string) => void;\n  onLikePost: (profileId: string) => void;\n  isUserPost: boolean;\n  currentCity: string;\n}) {\n  const [showComments, setShowComments] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const [commentAuthor, setCommentAuthor] = useState('');\n  \n  // Debug: Log the image path being used\n  console.log(`ðŸ–¼ï¸ ProfileCardWithImage rendering for city: ${currentCity}`);\n  console.log(`ðŸ–¼ï¸ Image path: ${getCityImagePath(currentCity)}`);\n  console.log(`ðŸ–¼ï¸ Profile location: ${profile.location}`);\n\n  const handleSubmitComment = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (newComment.trim() && commentAuthor.trim()) {\n      onAddComment(profile.id, {\n        text: newComment.trim(),\n        author: commentAuthor.trim()\n      });\n      setNewComment('');\n      setCommentAuthor('');\n    }\n  };\n\n  return (\n    <div className=\"box-border content-stretch flex flex-col gap-[30px] items-start justify-start p-0 relative shrink-0 w-full\">\n      <div className=\"h-[284px] relative shrink-0 w-full\">\n        <div className=\"h-[284px] overflow-clip relative w-full\">\n          {profile.image ? (\n            <div\n              className=\"absolute bg-center bg-cover bg-no-repeat h-[488px] left-[-14px] mix-blend-luminosity top-[-99px] w-[486px]\"\n              style={{ backgroundImage: `url('${profile.image}')` }}\n            />\n          ) : (\n                        <div className=\"absolute flex items-center justify-center h-[284px] left-0 top-0 w-full bg-gray-100\">\n              \n              <img \n                id={`city-image-${currentCity}`}\n                src={getCityImagePath(currentCity)}\n                alt={`${currentCity} Profile`} \n                className=\"w-full h-full object-cover filter grayscale contrast-125 brightness-90 sepia-20 hue-rotate-15 saturate-150\"\n                style={{ border: '2px solid red' }} // Debug border\n                onError={(e) => {\n                  console.error(`âŒ Image failed to load: ${e.currentTarget.src}`);\n                  // Try with different encoding first\n                  const encodedCity = encodeURIComponent(currentCity);\n                  if (e.currentTarget.src !== `/${encodedCity}.jpg`) {\n                    e.currentTarget.src = `/${encodedCity}.jpg`;\n                    return;\n                  }\n                  \n                  // Try alternative formats for the city\n                  const cityImageMap: { [key: string]: string[] } = {\n                    'Phoenix': ['Phoenix.jpg', 'Phoenix.webp'],\n                    'Columbus': ['Columbus.jpeg'],\n                    'Seattle': ['Seattle.jpeg'],\n                    // Add other cities with multiple formats as needed\n                  };\n                  \n                  const alternatives = cityImageMap[currentCity];\n                  if (alternatives && alternatives.length > 1) {\n                    const currentSrc = e.currentTarget.src;\n                    const currentFormat = currentSrc.split('.').pop();\n                    const nextFormat = alternatives.find(format => !format.includes(currentFormat || ''));\n                    if (nextFormat) {\n                      e.currentTarget.src = `/${nextFormat}`;\n                      return;\n                    }\n                  }\n                  \n                  // Final fallback to San Francisco image\n                  e.currentTarget.src = '/San Francisco.jpg';\n                }}\n                onLoad={() => {\n                  // Image loaded successfully\n                }}\n                onLoadStart={() => {\n                  // Image load started\n                }}\n              />\n\n            </div>\n          )}\n        </div>\n        <div\n          aria-hidden=\"true\"\n          className=\"absolute border border-[#000000] border-solid inset-0 pointer-events-none\"\n        />\n      </div>\n      \n      <div className=\"box-border content-stretch flex flex-col gap-2.5 items-start justify-start p-0 relative shrink-0 w-full\">\n        <div className=\"h-[38px] relative shrink-0 w-[100px] flex items-center justify-center\">\n          <div className=\"h-[38px] w-[100px] flex items-center justify-center\">\n            <div className=\"flex flex-col font-nyt justify-center items-center leading-[0] not-italic text-[#252424] text-[16px] text-center text-nowrap\">\n              <p className=\"block leading-[normal] whitespace-pre\">{profile.name},{profile.age}</p>\n            </div>\n          </div>\n          <div\n            aria-hidden=\"true\"\n            className=\"absolute border border-[#000000] border-solid inset-0 pointer-events-none\"\n          />\n        </div>\n        \n        <div className=\"box-border content-stretch flex flex-col gap-2 items-start justify-start p-0 relative shrink-0 w-full\">\n          <div className=\"flex flex-col font-futura-condensed-extra-bold font-futura-fallback justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[16px] text-left w-full\">\n            <p className=\"block leading-[normal]\">{profile.title}</p>\n          </div>\n          <div className=\"h-0 relative shrink-0 w-full\">\n            <div className=\"absolute bottom-0 left-0 right-0 top-[-1px]\">\n              <svg\n                className=\"block size-full\"\n                fill=\"none\"\n                preserveAspectRatio=\"none\"\n                viewBox=\"0 0 436 1\"\n              >\n                <line\n                  id=\"Line 3\"\n                  stroke=\"var(--stroke-0, black)\"\n                  x2=\"436\"\n                  y1=\"0.5\"\n                  y2=\"0.5\"\n                />\n              </svg>\n            </div>\n          </div>\n          <div className=\"flex flex-col font-nyt justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[16px] text-left w-full\">\n            <p className=\"block leading-[normal]\">{profile.description}</p>\n          </div>\n          \n          {/* Timestamp */}\n          <div className=\"flex flex-col font-nyt justify-end leading-[0] not-italic relative shrink-0 text-[#6b6969] text-[12px] text-left w-full mt-2\">\n            <p className=\"block leading-[normal]\">{formatTimestamp(profile.createdAt)}</p>\n          </div>\n          \n          {/* Interest tags */}\n          <div className=\"flex flex-wrap gap-1 mt-2\">\n            {profile.interests.map((interest, index) => (\n              <Badge key={index} variant=\"outline\" className=\"text-xs font-nyt\">\n                {interest}\n              </Badge>\n            ))}\n          </div>\n          \n          {/* Action buttons */}\n          <div className=\"flex gap-2 mt-3\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleLike}\n              disabled={isLiking}\n              className={`flex items-center gap-2 ${isLiking ? 'animate-pulse' : ''}`}\n            >\n              <Heart className={`h-4 w-4 ${isLiking ? 'text-red-500' : ''}`} />\n              {isLiking ? 'Liking...' : 'Like'}\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"newspaper\"\n              onClick={() => setShowComments(!showComments)}\n              className=\"text-xs\"\n            >\n              <MessageCircle className=\"w-3 h-3\" />\n              {profile.comments.length} Comments\n            </Button>\n            {isUserPost && (\n              <Button\n                size=\"sm\"\n                variant=\"newspaper\"\n                onClick={() => onDeletePost(profile.id)}\n                className=\"text-xs\"\n              >\n                ðŸ—‘ï¸ Delete\n              </Button>\n            )}\n          </div>\n        </div>\n\n        {/* Comments Section */}\n        {showComments && (\n          <div className=\"mt-4 border-t border-gray-200 pt-4\">\n            <h4 className=\"font-nyt font-bold text-sm mb-3\">Comments</h4>\n            \n            {/* Comment Form */}\n            <form onSubmit={handleSubmitComment} className=\"mb-4 w-full\">\n              <div className=\"flex flex-col gap-2 w-full\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Your name\"\n                  value={commentAuthor}\n                  onChange={(e) => setCommentAuthor(e.target.value)}\n                  className=\"p-2 border border-gray-300 rounded text-sm font-nyt w-full\"\n                  required\n                />\n                <textarea\n                  placeholder=\"Write a comment...\"\n                  value={newComment}\n                  onChange={(e) => setNewComment(e.target.value)}\n                  className=\"p-2 border border-gray-300 rounded text-sm font-nyt h-20 resize-none w-full\"\n                  required\n                />\n                <Button\n                  type=\"submit\"\n                  size=\"sm\"\n                  variant=\"newspaper\"\n                  className=\"text-xs self-start\"\n                >\n                  Post Comment\n                </Button>\n              </div>\n            </form>\n\n            {/* Comments List */}\n            <div className=\"space-y-3 w-full\">\n              {profile.comments.map((comment) => (\n                <div key={comment.id} className=\"bg-gray-50 p-3 rounded w-full\">\n                  <div className=\"flex justify-between items-start mb-1 w-full\">\n                    <span className=\"font-nyt font-bold text-sm\">{comment.author}</span>\n                    <span className=\"text-xs text-gray-500 font-nyt\">\n                      {formatTimestamp(comment.createdAt)}\n                    </span>\n                  </div>\n                  <p className=\"text-sm font-nyt w-full\">{comment.text}</p>\n                </div>\n              ))}\n              {profile.comments.length === 0 && (\n                <p className=\"text-sm text-gray-500 font-nyt italic w-full\">No comments yet. Be the first to comment!</p>\n              )}\n            </div>\n          </div>\n        )}\n        \n        <div className=\"h-0 relative shrink-0 w-full\">\n          <div className=\"absolute bottom-0 left-0 right-0 top-[-1px]\">\n            <svg\n              className=\"block size-full\"\n              fill=\"none\"\n              preserveAspectRatio=\"none\"\n              viewBox=\"0 0 436 1\"\n            >\n              <line\n                id=\"Line 3\"\n                stroke=\"var(--stroke-0, black)\"\n                x2=\"436\"\n                y1=\"0.5\"\n                y2=\"0.5\"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction NewspaperDivider() {\n  return (\n    <div className=\"h-1 relative shrink-0 w-full\">\n      <div className=\"absolute bottom-0 left-0 right-0 top-[-25%]\">\n        <svg\n          className=\"block size-full\"\n          fill=\"none\"\n          preserveAspectRatio=\"none\"\n          viewBox=\"0 0 1184 5\"\n        >\n          <line\n            stroke=\"var(--stroke-0, black)\"\n            x2=\"100%\"\n            y1=\"0.5\"\n            y2=\"0.5\"\n          />\n          <line\n            stroke=\"var(--stroke-0, black)\"\n            x2=\"100%\"\n            y1=\"4.5\"\n            y2=\"4.5\"\n          />\n        </svg>\n      </div>\n    </div>\n  );\n}\n\n\n\nfunction DateIdeas({ city }: { city: string }) {\n  // Date ideas for different cities\n  const cityDateIdeas: { [key: string]: string[] } = {\n    'San Francisco': [\n      'Walk across Golden Gate Bridge at sunset',\n      'Explore Mission District food scene',\n      'Visit Alcatraz Island together',\n      'Ride cable cars through Nob Hill',\n      'Picnic at Golden Gate Park',\n      'Explore Fisherman\\'s Wharf',\n      'Visit Palace of Fine Arts',\n      'Walk along Embarcadero',\n      'Explore Chinatown together',\n      'Visit Coit Tower for city views'\n    ],\n    'New York': [\n      'Walk through Central Park',\n      'Visit Times Square at night',\n      'Explore Brooklyn Bridge walkway',\n      'Visit Metropolitan Museum of Art',\n      'Walk High Line park',\n      'Explore Greenwich Village',\n      'Visit Empire State Building',\n      'Walk through SoHo galleries',\n      'Visit Brooklyn Botanic Garden',\n      'Explore Little Italy together'\n    ],\n    'Los Angeles': [\n      'Walk Venice Beach boardwalk',\n      'Visit Griffith Observatory',\n      'Explore Santa Monica Pier',\n      'Visit Getty Center',\n      'Walk through Beverly Hills',\n      'Explore Hollywood Walk of Fame',\n      'Visit LACMA museum',\n      'Walk through Echo Park',\n      'Visit Huntington Library',\n      'Explore Downtown Arts District'\n    ],\n    'Chicago': [\n      'Walk along Lake Michigan',\n      'Visit Millennium Park',\n      'Explore Navy Pier',\n      'Visit Art Institute of Chicago',\n      'Walk Magnificent Mile',\n      'Visit Willis Tower Skydeck',\n      'Explore Wicker Park',\n      'Visit Lincoln Park Zoo',\n      'Walk through Riverwalk',\n      'Explore Chinatown together'\n    ],\n    'Miami': [\n      'Walk South Beach boardwalk',\n      'Visit Vizcaya Museum',\n      'Explore Wynwood Arts District',\n      'Visit Little Havana',\n      'Walk through Coconut Grove',\n      'Visit Bayside Marketplace',\n      'Explore Design District',\n      'Visit Fairchild Tropical Garden',\n      'Walk through Coral Gables',\n      'Explore Brickell together'\n    ]\n  };\n\n  const ideas = cityDateIdeas[city] || [\n    'Visit local museums together',\n    'Explore downtown area',\n    'Try local restaurants',\n    'Visit city parks',\n    'Explore local markets',\n    'Walk through historic districts',\n    'Visit local landmarks',\n    'Try local coffee shops',\n    'Explore art galleries',\n    'Visit local attractions'\n  ];\n\n  return (\n    <div className=\"box-border content-stretch flex flex-col gap-2.5 items-start justify-start p-0 relative shrink-0 w-full\">\n      <div className=\"h-[38px] relative shrink-0 w-full flex items-center justify-center\">\n        <div className=\"flex flex-col font-futura-condensed-extra-bold font-futura-fallback justify-center items-center leading-[0] not-italic text-[#252424] text-[16px] text-center text-nowrap\">\n          <p className=\"block leading-[normal]\">Date Ideas in {city}</p>\n        </div>\n        <div\n          aria-hidden=\"true\"\n          className=\"absolute border border-[#000000] border-solid inset-0 pointer-events-none\"\n        />\n      </div>\n      \n      <div className=\"box-border content-stretch flex flex-col gap-2 items-start justify-start p-0 relative shrink-0 w-full\">\n        <div className=\"flex flex-col font-nyt justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[14px] text-left w-full\">\n          <div className=\"space-y-0\">\n            {ideas.map((idea, index) => (\n              <div key={index}>\n                <div className=\"flex items-center gap-2 py-2\">\n                  <input \n                    type=\"checkbox\" \n                    disabled\n                    readOnly\n                    className=\"w-3 h-3 text-[#6b6969] border border-gray-300 rounded focus:ring-0 focus:ring-offset-0 cursor-default opacity-60\"\n                  />\n                  <p className=\"block leading-[normal]\">{idea}</p>\n                </div>\n                {index < ideas.length - 1 && (\n                  <div className=\"h-0 relative shrink-0 w-full\">\n                    <div className=\"absolute bottom-0 left-0 right-0 top-[-1px]\">\n                      <svg\n                        className=\"block size-full\"\n                        fill=\"none\"\n                        preserveAspectRatio=\"none\"\n                        viewBox=\"0 0 331 1\"\n                      >\n                        <line\n                          stroke=\"var(--stroke-0, black)\"\n                          strokeDasharray=\"2,2\"\n                          x2=\"100%\"\n                          y1=\"0.5\"\n                          y2=\"0.5\"\n                        />\n                      </svg>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n        \n        <div className=\"h-0 relative shrink-0 w-full mt-3\">\n          <div className=\"absolute bottom-0 left-0 right-0 top-[-1px]\">\n            <svg\n              className=\"block size-full\"\n              fill=\"none\"\n              preserveAspectRatio=\"none\"\n              viewBox=\"0 0 331 1\"\n            >\n              <line\n                stroke=\"var(--stroke-0, black)\"\n                x2=\"100%\"\n                y1=\"0.5\"\n                y2=\"0.5\"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction NewspaperHeader({ onCityChange, usCities, onAddPostClick, currentCity }: { onCityChange: (city: string) => void; usCities: string[]; onAddPostClick: () => void; currentCity: string }) {\n  const today = new Date();\n  const dateString = today.toLocaleDateString('en-US', { \n    weekday: 'long', \n    year: 'numeric', \n    month: 'long', \n    day: 'numeric' \n  });\n\n  const handleCityChange = (city: string) => {\n    onCityChange(city);\n  };\n\n  return (\n    <div className=\"box-border content-stretch flex flex-col gap-[18px] items-center justify-start p-0 relative shrink-0 w-full\">\n      <div className=\"relative w-full px-4\">\n        <div className=\"flex flex-col font-engravers justify-end leading-[0] not-italic relative shrink-0 text-[#252424] text-[32px] lg:text-[40px] text-center tracking-[-1px]\">\n        <p className=\"block leading-[normal]\">The Daily Connection</p>\n        </div>\n        <div className=\"absolute top-1/2 right-0 transform -translate-y-1/2 flex-shrink-0 hidden lg:block\">\n          <Button\n            variant=\"newspaper\"\n            onClick={onAddPostClick}\n            className=\"text-sm px-6 py-2\"\n          >\n            + Add New Post\n          </Button>\n        </div>\n      </div>\n      \n      <div className=\"box-border content-stretch flex flex-col gap-3 items-start justify-start p-0 relative shrink-0 w-full\">\n        <NewspaperDivider />\n        <div className=\"box-border content-stretch flex flex-col lg:flex-row font-nyt items-center justify-between leading-[0] not-italic p-0 relative shrink-0 text-[#000000] text-[14px] lg:text-[16px] text-center text-nowrap w-full gap-2 lg:gap-0\">\n          <div className=\"flex flex-col justify-end relative shrink-0\">\n            <p className=\"block leading-[normal] text-nowrap whitespace-pre\">\n              Where stories begin\n            </p>\n          </div>\n          <div className=\"flex flex-col justify-end relative shrink-0\">\n            <div className=\"flex items-center gap-1\">\n              <span className=\"text-nowrap whitespace-pre\">\n                {currentCity}, {dateString}\n              </span>\n              <div className=\"relative ml-1\">\n                <select\n                  onChange={(e) => handleCityChange(e.target.value)}\n                  className=\"font-nyt text-[14px] lg:text-[16px] text-black bg-transparent border-none outline-none cursor-pointer pr-6 w-4\"\n                >\n                  <option value=\"\" disabled selected className=\"font-nyt text-transparent bg-transparent\">\n                    \n                  </option>\n                  {usCities.filter(city => city !== currentCity).map((city) => (\n                    <option key={city} value={city} className=\"font-nyt text-black bg-white\">\n                      {city}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n          </div>\n          <div className=\"flex flex-col justify-end relative shrink-0\">\n            <p className=\"block leading-[normal] text-nowrap whitespace-pre\">\n              VOL. 2\n            </p>\n          </div>\n        </div>\n        <NewspaperDivider />\n      </div>\n    </div>\n  );\n}\n\nfunction AddPostForm({ onAddPost, isOpen, setIsOpen, currentCity }: { onAddPost: (profile: Omit<Profile, 'id' | 'createdAt'>) => void; isOpen: boolean; setIsOpen: (open: boolean) => void; currentCity: string }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    age: '',\n    title: '',\n    location: `${currentCity}, CA`,\n    description: '',\n    interests: ''\n  });\n\n  // Update location when currentCity changes\n  useEffect(() => {\n    setFormData(prev => ({\n      ...prev,\n      location: `${currentCity}, CA`\n    }));\n  }, [currentCity]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (formData.name && formData.age && formData.title && formData.description) {\n      const newProfile: Omit<Profile, 'id' | 'createdAt'> = {\n        name: formData.name,\n        age: parseInt(formData.age),\n        title: formData.title,\n        location: formData.location,\n        description: formData.description,\n        interests: formData.interests.split(',').map(i => i.trim()).filter(i => i.length > 0),\n        comments: []\n      };\n      onAddPost(newProfile);\n      setFormData({\n        name: '',\n        age: '',\n        title: '',\n        location: `${currentCity}, CA`,\n        description: '',\n        interests: ''\n      });\n      setIsOpen(false);\n    }\n  };\n\n  if (!isOpen) {\n    return null;\n  }\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div \n        className=\"fixed inset-0 bg-black bg-opacity-50 z-40\"\n        onClick={() => setIsOpen(false)}\n      />\n      \n      {/* Modal */}\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n        <div className=\"w-full max-w-2xl bg-white border-2 border-black shadow-lg\">\n          <div className=\"flex justify-between items-center p-6 border-b-2 border-black\">\n            <h3 className=\"font-nyt text-xl font-bold\">Add New Post</h3>\n            <Button\n              variant=\"newspaper\"\n              onClick={() => setIsOpen(false)}\n              className=\"text-sm px-3 py-1\"\n            >\n              Ã— Close\n            </Button>\n          </div>\n          \n          <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block font-nyt text-sm font-medium mb-1\">Name</label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                  className=\"w-full p-2 border border-black font-nyt text-sm\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block font-nyt text-sm font-medium mb-1\">Age</label>\n                <input\n                  type=\"number\"\n                  value={formData.age}\n                  onChange={(e) => setFormData(prev => ({ ...prev, age: e.target.value }))}\n                  className=\"w-full p-2 border border-black font-nyt text-sm\"\n                  min=\"18\"\n                  max=\"100\"\n                  required\n                />\n              </div>\n            </div>\n            \n            <div>\n                          <label className=\"block font-nyt text-sm font-medium mb-1\">Title</label>\n              <input\n                type=\"text\"\n                value={formData.title}\n                onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n              className=\"w-full p-2 border border-black font-nyt text-sm\"\n                required\n              />\n            </div>\n            \n            <div>\n                          <label className=\"block font-nyt text-sm font-medium mb-1\">Description</label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n              className=\"w-full p-2 border border-black font-nyt text-sm h-24\"\n                required\n              />\n            </div>\n            \n            <div>\n                          <label className=\"block font-nyt text-sm font-medium mb-1\">Interests (comma-separated)</label>\n              <input\n                type=\"text\"\n                value={formData.interests}\n                onChange={(e) => setFormData(prev => ({ ...prev, interests: e.target.value }))}\n              className=\"w-full p-2 border border-black font-nyt text-sm\"\n                placeholder=\"e.g., Cooking, Science, Travel\"\n              />\n            </div>\n            \n            <div className=\"flex justify-end pt-4\">\n              <Button\n                type=\"submit\"\n                variant=\"newspaper\"\n                className=\"text-sm px-6 py-2\"\n              >\n                Add Post\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction VerticalDivider() {\n  return (\n    <div className=\"hidden lg:flex h-full items-center justify-center relative shrink-0 w-[1px]\">\n      <div className=\"h-full w-full flex items-center justify-center\">\n        <div className=\"h-full w-[1px] bg-black\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport default function App() {\n  // Current version for localStorage compatibility\n  const currentVersion = '2.4'; // Version for likes field\n  \n  // Load saved city from localStorage or default to New York\n  const [currentCity, setCurrentCity] = useState(() => {\n    const savedCity = localStorage.getItem('newspaperDatingCurrentCity');\n    return savedCity || 'New York';\n  });\n  const [isAddPostOpen, setIsAddPostOpen] = useState(false);\n  \n  // Top 20 US cities - memoized to prevent recreation on every render\n  const usCities = useMemo(() => [\n    'New York',\n    'Los Angeles',\n    'Chicago',\n    'Houston',\n    'Phoenix',\n    'Philadelphia',\n    'San Antonio',\n    'San Diego',\n    'Dallas',\n    'San Jose',\n    'Austin',\n    'Jacksonville',\n    'Fort Worth',\n    'Columbus',\n    'Charlotte',\n    'San Francisco',\n    'Indianapolis',\n    'Seattle',\n    'Denver',\n    'Washington'\n  ], []);\n  \n  // Generate exactly 5 posts for each city - memoized to prevent regeneration\n  const generateAllPosts = useCallback(() => {\n    const allPosts: Profile[] = [];\n    \n    // Generate exactly 5 posts for each city with templates\n    Object.keys(cityTemplates).forEach(city => {\n      const cityPosts = generateCityPosts(city, 5);\n      allPosts.push(...cityPosts);\n    });\n    \n    // Generate exactly 5 posts for remaining cities in the top 20 list\n    const remainingCities = usCities.filter(city => !cityTemplates[city as keyof typeof cityTemplates]);\n    remainingCities.forEach((city: string) => {\n      const cityPosts = generateCityPosts(city, 5);\n      allPosts.push(...cityPosts);\n    });\n    \n    // Shuffle posts randomly\n    return allPosts.sort(() => Math.random() - 0.5);\n  }, [usCities]);\n\n  // Helper function for loading profiles from localStorage (fallback)\n  const loadProfilesFromStorage = (): Profile[] | null => {\n    try {\n      const stored = localStorage.getItem('newspaperDatingProfiles');\n      const version = localStorage.getItem('newspaperDatingVersion');\n      \n      if (stored && version === currentVersion) {\n        const parsed = JSON.parse(stored);\n        // Convert date strings back to Date objects\n        return parsed.map((profile: any) => ({\n          ...profile,\n          createdAt: new Date(profile.createdAt),\n          comments: profile.comments || []\n        }));\n      } else {\n        // Clear old data and return null to force regeneration\n        localStorage.removeItem('newspaperDatingProfiles');\n        localStorage.setItem('newspaperDatingVersion', currentVersion);\n        return null;\n      }\n    } catch (error) {\n      console.error('Failed to load profiles from localStorage:', error);\n    }\n    return null;\n  };\n\n  const [profiles, setProfiles] = useState<Profile[]>([]);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  \n  // Load profiles from database/localStorage on component mount\n  useEffect(() => {\n    const loadProfiles = async () => {\n      try {\n        setError(null);\n        \n        // Check database health first\n        console.log('ðŸ” Checking database health...');\n        const dbHealth = await HybridPostsService.checkDatabaseHealth();\n        console.log('Database health check result:', dbHealth);\n        \n        if (!dbHealth.healthy) {\n          console.warn('âš ï¸ Database health check failed:', dbHealth.error);\n          setError(`Database connection issue: ${dbHealth.error}. Posts may not persist.`);\n        }\n        \n        // Try to load from database first (prioritize fresh data)\n        try {\n          console.log('ðŸ”„ Loading profiles from database...');\n          const dbProfiles = await HybridPostsService.getAllPosts();\n          if (dbProfiles.length > 0) {\n            console.log(`âœ… Loaded ${dbProfiles.length} profiles from database`);\n            setProfiles(dbProfiles);\n            // Update localStorage with latest data\n            localStorage.setItem('newspaperDatingProfiles', JSON.stringify(dbProfiles));\n            setIsLoading(false);\n            return;\n          }\n        } catch (dbErr) {\n          console.log('âš ï¸ Database loading failed, falling back to localStorage:', dbErr);\n        }\n        \n        // Fallback to localStorage if database fails\n        const storedProfiles = loadProfilesFromStorage();\n        if (storedProfiles && storedProfiles.length > 0) {\n          console.log('ðŸ“± Loading profiles from localStorage fallback...');\n          setProfiles(storedProfiles);\n          setIsLoading(false);\n          return;\n        }\n        \n        // Only generate new profiles if none exist\n        console.log('ðŸ”„ No existing profiles found, generating new ones...');\n        const initialProfiles = generateAllPosts();\n        console.log(`ðŸ”„ Generated ${initialProfiles.length} profiles`);\n        \n        // Try to seed database first\n        try {\n          await HybridPostsService.seedInitialData(initialProfiles);\n          console.log('âœ… Profiles seeded to database');\n        } catch (dbErr) {\n          console.log('âš ï¸ Database seeding failed, using localStorage:', dbErr);\n        }\n        \n        // Set profiles and save to localStorage\n        setProfiles(initialProfiles);\n        localStorage.setItem('newspaperDatingProfiles', JSON.stringify(initialProfiles));\n        localStorage.setItem('newspaperDatingVersion', currentVersion); // New version for likes field\n        setIsLoading(false); // Stop loading\n        \n      } catch (err) {\n        console.error('Error loading profiles:', err);\n        setError('Failed to load posts. Using local data as fallback.');\n        \n        // Final fallback\n        const fallbackProfiles = generateAllPosts();\n        setProfiles(fallbackProfiles);\n        localStorage.setItem('newspaperDatingProfiles', JSON.stringify(fallbackProfiles));\n        localStorage.setItem('newspaperDatingVersion', currentVersion);\n        setIsLoading(false); // Stop loading\n      }\n    };\n    \n    loadProfiles();\n  }, []);\n\n\n\n  // Real-time Supabase subscriptions for instant cross-device updates\n  useEffect(() => {\n    if (!shouldUseSupabase()) {\n      console.log('âš ï¸ Supabase not configured - real-time updates disabled');\n      return;\n    }\n\n    let postsSubscription: any;\n    let commentsSubscription: any;\n\n    const setupRealtimeSubscriptions = async () => {\n      try {\n        const { supabase } = await import('./services/supabase');\n        \n        // Subscribe to new posts\n        postsSubscription = supabase\n          .channel('posts_changes')\n          .on('postgres_changes', \n            { event: '*', schema: 'public', table: 'posts' },\n            async (payload) => {\n              console.log('ðŸ”„ Real-time post update:', payload);\n              console.log('ðŸ” Current profiles before update:', profiles.length);\n              \n              if (payload.eventType === 'INSERT') {\n                // New post added\n                console.log('ðŸ” INSERT event, fetching new post...');\n                const newPost = await HybridPostsService.getPostById(payload.new.id);\n                console.log('ðŸ” Fetched new post:', newPost);\n                if (newPost) {\n                  setProfiles(prev => {\n                    console.log('ðŸ” Adding new post via real-time, previous count:', prev.length);\n                    const updated = [...prev, newPost];\n                    console.log('ðŸ” Updated count via real-time:', updated.length);\n                    return updated;\n                  });\n                  console.log('âœ… New post added via real-time subscription');\n                }\n              } else if (payload.eventType === 'DELETE') {\n                // Post deleted\n                console.log('ðŸ” DELETE event, removing post:', payload.old.id);\n                setProfiles(prev => {\n                  console.log('ðŸ” Removing post via real-time, previous count:', prev.length);\n                  const updated = prev.filter(p => p.id !== payload.old.id);\n                  console.log('ðŸ” Updated count via real-time:', updated.length);\n                  return updated;\n                });\n                console.log('âœ… Post deleted via real-time subscription');\n              }\n            }\n          )\n          .subscribe();\n\n        // Subscribe to new comments\n        commentsSubscription = supabase\n          .channel('comments_changes')\n          .on('postgres_changes', \n            { event: '*', schema: 'public', table: 'comments' },\n            async (payload) => {\n              console.log('ðŸ”„ Real-time comment update:', payload);\n              \n              if (payload.eventType === 'INSERT') {\n                // New comment added\n                const newComment = await HybridPostsService.getCommentById(payload.new.id);\n                if (newComment) {\n                  setProfiles(prev => prev.map(profile => \n                    profile.id === payload.new.post_id \n                      ? { ...profile, comments: [...profile.comments, newComment] }\n                      : profile\n                  ));\n                  console.log('âœ… New comment added via real-time subscription');\n                }\n              }\n            }\n          )\n          .subscribe();\n\n        console.log('âœ… Real-time subscriptions established');\n      } catch (error) {\n        console.error('âŒ Failed to setup real-time subscriptions:', error);\n      }\n    };\n\n    setupRealtimeSubscriptions();\n\n    // Cleanup subscriptions on unmount\n    return () => {\n      if (postsSubscription) {\n        postsSubscription.unsubscribe();\n      }\n      if (commentsSubscription) {\n        commentsSubscription.unsubscribe();\n      }\n    };\n  }, []);\n\n\n\n  const addNewPost = async (newProfile: Omit<Profile, 'id' | 'createdAt'>) => {\n    console.log('ðŸ” addNewPost called with:', newProfile);\n    console.log('ðŸ” Current profiles count:', profiles.length);\n    \n    try {\n      console.log('ðŸ” Calling HybridPostsService.createPost...');\n      const newPost = await HybridPostsService.createPost(newProfile);\n      console.log('ðŸ” HybridPostsService.createPost returned:', newPost);\n      \n      setProfiles(prev => {\n        console.log('ðŸ” Setting profiles, previous count:', prev.length);\n        const updated = [...prev, newPost];\n        console.log('ðŸ” Updated profiles count:', updated.length);\n        return updated;\n      });\n      \n      // No need to trigger sync - real-time subscriptions will handle updates\n      console.log('âœ… New post created and added to local state');\n    } catch (err) {\n      console.error('âŒ Error creating post:', err);\n      setError('Failed to create post. Please try again.');\n      \n      // Fallback to local creation\n      console.log('ðŸ” Using fallback local creation...');\n      const newId = `user-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n      const newPost: Profile = {\n        ...newProfile,\n        id: newId,\n        createdAt: new Date()\n      };\n      console.log('ðŸ” Fallback post created:', newPost);\n      setProfiles(prev => [...prev, newPost]);\n    }\n  };\n\n  const addComment = async (profileId: string, comment: Omit<Comment, 'id' | 'createdAt'>) => {\n    try {\n      const newComment = await HybridPostsService.addComment(profileId, comment);\n      \n      setProfiles(prev => prev.map(profile => \n        profile.id === profileId \n          ? { ...profile, comments: [...profile.comments, newComment] }\n          : profile\n      ));\n      \n      // No need to trigger sync - real-time subscriptions will handle updates\n      console.log('âœ… New comment added to local state');\n    } catch (err) {\n      console.error('Error adding comment:', err);\n      setError('Failed to add comment. Please try again.');\n      \n      // Fallback to local comment\n      const newComment: Comment = {\n        ...comment,\n        id: Date.now().toString(),\n        createdAt: new Date()\n      };\n      \n      setProfiles(prev => prev.map(profile => \n        profile.id === profileId \n          ? { ...profile, comments: [...profile.comments, newComment] }\n          : profile\n      ));\n    }\n  };\n\n  const deletePost = async (profileId: string) => {\n    try {\n      await HybridPostsService.deletePost(profileId);\n      setProfiles(prev => prev.filter(profile => profile.id !== profileId));\n      \n      // No need to trigger sync - real-time subscriptions will handle updates\n      console.log('âœ… Post deleted from local state');\n    } catch (err) {\n      console.error('Error deleting post:', err);\n      setError('Failed to delete post. Please try again.');\n      \n      // Fallback to local deletion\n      setProfiles(prev => prev.filter(profile => profile.id !== profileId));\n    }\n  };\n\n\n\n  const isUserPost = (profileId: string) => {\n    const result = profileId.startsWith('user-');\n    console.log(`ðŸ” Checking if post ${profileId} is user post: ${result}`);\n    return result;\n  };\n\n\n\n  // Filter profiles by current city - more robust matching\n  const cityProfiles = profiles.filter(profile => {\n    const location = profile.location.toLowerCase();\n    const city = currentCity.toLowerCase();\n    \n    // Check various location formats\n    return location.startsWith(city + ',') || \n           location.startsWith(city + ' ') ||\n           location === city ||\n           location.includes(city + ',') ||\n           location.includes(city + ' ');\n  });\n  \n  // Split city-specific profiles into columns with time-based hierarchy (latest posts first)\n  const totalCityProfiles = cityProfiles.length;\n  const leftColumnCount = Math.ceil(totalCityProfiles / 3);\n  const centerColumnCount = Math.ceil((totalCityProfiles - leftColumnCount) / 2);\n  \n  // Sort profiles by creation time (newest first) and distribute across columns\n  const sortedCityProfiles = [...cityProfiles].sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());\n  \n  const leftColumnProfiles = sortedCityProfiles.slice(0, leftColumnCount);\n  const centerColumnProfiles = sortedCityProfiles.slice(leftColumnCount, leftColumnCount + centerColumnCount);\n  const rightColumnProfiles = sortedCityProfiles.slice(leftColumnCount + centerColumnCount);\n  \n  // Debug: Log city filtering\n  console.log(`ðŸ” Current city: \"${currentCity}\"`);\n  console.log(`ðŸ” Total profiles: ${profiles.length}`);\n  console.log(`ðŸ” City profiles: ${cityProfiles.length}`);\n  console.log(`ðŸ” Sample profile locations:`, profiles.slice(0, 3).map(p => p.location));\n  console.log(`ðŸ” City profile locations:`, cityProfiles.slice(0, 3).map(p => p.location));\n  console.log(`ðŸ” Center column profiles: ${centerColumnProfiles.length}`);\n  console.log(`ðŸ” Left column profiles: ${leftColumnProfiles.length}`);\n  console.log(`ðŸ” Right column profiles: ${rightColumnProfiles.length}`);\n  \n  // Debug: Show location matching details\n  if (profiles.length > 0) {\n    console.log(`ðŸ” Location matching debug:`);\n    profiles.slice(0, 5).forEach((profile, index) => {\n      const location = profile.location.toLowerCase();\n      const city = currentCity.toLowerCase();\n      const matches = location.startsWith(city + ',') || \n                     location.startsWith(city + ' ') ||\n                     location === city ||\n                     location.includes(city + ',') ||\n                     location.includes(city + ' ');\n      console.log(`  Profile ${index + 1}: \"${profile.location}\" -> matches \"${currentCity}\": ${matches}`);\n    });\n  }\n\n  // Debug: Log all profiles and their IDs\n  console.log('ðŸ” All profiles:', profiles.map(p => ({ id: p.id, name: p.name, location: p.location })));\n  console.log('ðŸ” City profiles for', currentCity, ':', cityProfiles.map(p => ({ id: p.id, name: p.name, location: p.location })));\n\n  // Debug: Log when profiles change\n  useEffect(() => {\n    console.log('ðŸ” Profiles state changed, count:', profiles.length);\n    console.log('ðŸ” Profiles:', profiles.map(p => ({ id: p.id, name: p.name, location: p.location })));\n  }, [profiles]);\n\n  return (\n    <div className=\"bg-[#F5F5F0] min-h-screen w-full\">\n      {/* Loading Spinner - Top Left Corner */}\n      {isLoading && (\n        <div className=\"fixed top-4 left-4 z-50\">\n          <div className=\"flex items-center space-x-2 bg-white border-2 border-black shadow-lg px-3 py-2 rounded\">\n            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-black\"></div>\n            <span className=\"font-nyt text-sm font-medium\">Loading posts...</span>\n          </div>\n        </div>\n      )}\n      \n      <div className=\"flex justify-center w-full px-4 sm:px-6 lg:px-8 py-7\">\n        <div className=\"flex flex-col gap-[33px] items-center justify-start w-full max-w-[1184px]\">\n          <NewspaperHeader \n            onCityChange={(city) => {\n              setCurrentCity(city);\n              // Save current city to localStorage for persistence\n              localStorage.setItem('newspaperDatingCurrentCity', city);\n            }} \n            usCities={usCities}\n            onAddPostClick={() => setIsAddPostOpen(true)}\n            currentCity={currentCity}\n          />\n          \n          <AddPostForm onAddPost={addNewPost} isOpen={isAddPostOpen} setIsOpen={setIsAddPostOpen} currentCity={currentCity} />\n          \n\n          \n\n          \n          {/* Error State */}\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 w-full\">\n              <p className=\"font-nyt text-red-800 text-sm\">{error}</p>\n              <button \n                onClick={() => setError(null)}\n                className=\"font-nyt text-red-600 text-xs underline mt-1\"\n              >\n                Dismiss\n              </button>\n            </div>\n          )}\n\n\n          \n          {/* Mobile Layout - Single Column Sequence */}\n          <div className=\"flex flex-col gap-6 w-full lg:hidden\">\n            {/* Add Post Button - Mobile Only - Above the post */}\n            <div className=\"flex justify-center\">\n              <Button\n                variant=\"newspaper\"\n                onClick={() => setIsAddPostOpen(true)}\n                className=\"text-sm px-6 py-2\"\n              >\n                + Add New Post\n              </Button>\n            </div>\n            \n            {/* Featured Image Post (First post with image) */}\n            {centerColumnProfiles.length > 0 && (\n              <ProfileCardWithImage \n                key={`${centerColumnProfiles[0].id}-${currentCity}`} \n                profile={centerColumnProfiles[0]} \n                onAddComment={addComment}\n                onDeletePost={deletePost}\n                onLikePost={likePost}\n                isUserPost={isUserPost(centerColumnProfiles[0].id)}\n                currentCity={currentCity}\n              />\n            )}\n            \n            {/* Date Ideas Component */}\n            <DateIdeas city={currentCity} />\n            \n            {/* All Posts (including the first one) */}\n            {sortedCityProfiles.map((profile) => (\n              <ProfileCard \n                key={profile.id} \n                profile={profile} \n                onAddComment={addComment}\n                onDeletePost={deletePost}\n                onLikePost={likePost}\n                isUserPost={isUserPost(profile.id)}\n              />\n            ))}\n          </div>\n          \n          {/* Desktop Layout - Three Columns */}\n          <div className=\"hidden lg:flex flex-row gap-6 items-stretch justify-start w-full\">\n            {/* Left Column */}\n            <div className=\"flex flex-col gap-7 items-start justify-start w-full lg:w-[321px]\">\n              {leftColumnProfiles.map((profile) => (\n                <ProfileCard \n                  key={profile.id} \n                  profile={profile} \n                  onAddComment={addComment}\n                  onDeletePost={deletePost}\n                  onLikePost={likePost}\n                  isUserPost={isUserPost(profile.id)}\n                />\n              ))}\n            </div>\n            \n            <VerticalDivider />\n            \n            {/* Center Column */}\n            <div className=\"flex flex-col gap-[30px] items-start justify-start w-full lg:w-[436px]\">\n              {centerColumnProfiles.map((profile, index) => {\n                return index === 0 ? (\n                  <ProfileCardWithImage \n                    key={`${profile.id}-${currentCity}`} \n                    profile={profile} \n                    onAddComment={addComment}\n                    onDeletePost={deletePost}\n                    onLikePost={likePost}\n                    isUserPost={isUserPost(profile.id)}\n                    currentCity={currentCity}\n                  />\n                ) : (\n                  <ProfileCard \n                    key={profile.id} \n                    profile={profile} \n                    onAddComment={addComment}\n                    onDeletePost={deletePost}\n                    onLikePost={likePost}\n                    isUserPost={isUserPost(profile.id)}\n                  />\n                );\n              })}\n            </div>\n            \n            <VerticalDivider />\n            \n            {/* Right Column */}\n            <div className=\"flex flex-col gap-[26px] items-start justify-start w-full lg:w-[331px]\">\n              <DateIdeas city={currentCity} />\n              {rightColumnProfiles.map((profile) => (\n                <ProfileCard \n                  key={profile.id} \n                  profile={profile} \n                  onAddComment={addComment}\n                  onDeletePost={deletePost}\n                  onLikePost={likePost}\n                  isUserPost={isUserPost(profile.id)}\n                />\n              ))}\n            </div>\n          </div>\n          \n\n          \n\n          \n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}